!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.JSGameTools=e():t.JSGameTools=e()}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=22)}([function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}},function(t,e,n){var i=n(12);function r(e,n,o){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=r=Reflect.get:t.exports=r=function(t,e,n){var r=i(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},r(e,n,o||e)}t.exports=r},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){var i=n(13);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){var i=n(16),r=n(3);t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t,e,n){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}},function(t,e,n){var i=n(12),r=n(8);function o(t,e,n,s){return(o="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,o){var s,a=i(t,e);if(a){if((s=Object.getOwnPropertyDescriptor(a,e)).set)return s.set.call(o,n),!0;if(!s.writable)return!1}if(s=Object.getOwnPropertyDescriptor(o,e)){if(!s.writable)return!1;s.value=n,Object.defineProperty(o,e,s)}else r(o,e,n);return!0})(t,e,n,s)}t.exports=function(t,e,n,i,r){if(!o(t,e,n,i||t)&&r)throw new Error("failed to set property");return n}},function(t,e,n){var i=n(18),r=n(19),o=n(20),s=n(21);t.exports=function(t){return i(t)||r(t)||o(t)||s()}},function(t,e,n){var i=n(0);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}},function(t,e){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,i)}t.exports=n},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},function(t,e,n){var i=n(13),r=n(17);function o(e,n,s){return r()?t.exports=o=Reflect.construct:t.exports=o=function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o},o.apply(null,arguments)}t.exports=o},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e,n){var i=n(14);t.exports=function(t){if(Array.isArray(t))return i(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){"use strict";n.r(e),n.d(e,"Constants",(function(){return i})),n.d(e,"Button",(function(){return ot})),n.d(e,"ButtonImage",(function(){return ht})),n.d(e,"ImageLoader",(function(){return ct})),n.d(e,"NotificationMessage",(function(){return At})),n.d(e,"Utils",(function(){return Y})),n.d(e,"Menu",(function(){return Tt})),n.d(e,"Input",(function(){return It})),n.d(e,"Label",(function(){return Dt})),n.d(e,"Link",(function(){return Nt})),n.d(e,"Tooltip",(function(){return Ut})),n.d(e,"Scene",(function(){return Mt})),n.d(e,"FPSMeter",(function(){return Wt})),n.d(e,"ProgressBar",(function(){return Xt})),n.d(e,"Canvas",(function(){return Jt})),n.d(e,"Component",(function(){return F})),n.d(e,"EasingFunctions",(function(){return Qt})),n.d(e,"Col",(function(){return mt})),n.d(e,"Container",(function(){return $})),n.d(e,"Row",(function(){return it})),n.d(e,"ImageContainer",(function(){return at})),n.d(e,"Arrow",(function(){return te})),n.d(e,"Cross",(function(){return Ct})),n.d(e,"Scrollbar",(function(){return z})),n.d(e,"ScrollbarVertical",(function(){return K})),n.d(e,"ScrollbarHorizontal",(function(){return X})),n.d(e,"Box",(function(){return B})),n.d(e,"Style",(function(){return k})),n.d(e,"Select",(function(){return oe})),n.d(e,"SelectOption",(function(){return ae})),n.d(e,"SelectOptionsContainer",(function(){return ce})),n.d(e,"Triangle",(function(){return ne})),n.d(e,"Circle",(function(){return fe})),n.d(e,"Reactor",(function(){return L})),n.d(e,"Event",(function(){return R})),n.d(e,"ReactorCanvas",(function(){return Kt})),n.d(e,"ErrorScreen",(function(){return Vt}));var i={Setting:{DISABLE_OPTIMIZATIONS:!1,DISABLE_EXPERIMENTAL_OPTIMIZATIONS:!1,DISABLE_IS_COMPONENT_VISIBLE_OPTIMIZATIONS:!0,DISABLE_CONTAINERS_CUTTING:!1,ENABLE_PIXEL_RATIO_RESIZING:!0,PIXEL_RATIO:1,RESOLUTION_SCALE:1,FONT_FAMILY:"sans-serif",FONT_SIZE:28,CANVAS_WIDTH:600,CANVAS_HEIGHT:400,DEFAULT_PADDING:6,DEFAULT_SPACING:6,BUTTON_DEFAULT_BACKGROUND:"rgba(0, 0, 0, 0)",BUTTON_DEFAULT_HOVER_BACKGROUND:"#95A5A6",BUTTON_DEFAULT_CLICK_BACKGROUND:"#727F80",BUTTON_DEFAULT_ALTERNATIVE_BACKGROUND:"#ACBEBF",INPUT_DEFAULT_FONT_COLOR:"#000",INPUT_DEFAULT_BACKGROUND_COLOR:"#fff",INPUT_DEFAULT_BORDER_COLOR:"#000",INPUT_DEFAULT_BORDER_COLOR_SELECTED:"#a2cdd8",INPUT_DEFAULT_SELECT_COLOR:"#2980b9",LABEL_DEFAULT_FONT_COLOR:"#000",LINK_DEFAULT_COLOR:"#0000EE",LINK_DEFAULT_HOVER_COLOR:"#4D4DFF",LINK_DEFAULT_CLICK_COLOR:"#EE7700",MENU_DEFAULT_BACKGROUND:"rgba(44, 62, 80, 0.75)",MENU_DEFAULT_BLUR_BACKGROUND:!1,NOTIFICATION_DEFAULT_BACKGROUND:"rgba(46, 204, 113, 0.5)",NOTIFICATION_DEFAULT_ANIMATION_DURATION:500,PROGRESS_DEFAULT_BACKGROUND:"#bdc3c7",PROGRESS_DEFAULT_FOREGROUND:"#27ae60",PROGRESS_DEFAULT_ANIMATION_DURATION:2e3,TOOLTIP_DEFAULT_BACKGROUND:"rgba(255, 255, 255, 0.25)",ARROW_DEFAULT_LINE_CAP:"round",ARROW_DEFAULT_COLOR:"#FF0000",ARROW_DEFAULT_LINE_SIZE:8,ARROW_DEFAULT_HEAD_SIZE:20,CROSS_DEFAULT_LINE_CAP:"round",CROSS_DEFAULT_COLOR:"#fff",CROSS_DEFAULT_LINE_SIZE:3,SCROLLBAR_DEFAULT_BACKGROUND:"rgba(149, 165, 166, 0.75)",SCROLLBAR_DEFAULT_HOVER_BACKGROUND:"rgba(149, 165, 166, 0.9)",SCROLLBAR_DEFAULT_CLICK_BACKGROUND:"rgba(149, 165, 166, 0.5)",SCROLLBAR_DEFAULT_SIZE:10,DEFAULT_BORDER_SIZE:3,DEFAULT_BORDER_COLOR_SELECTED:"#a2cdd8",DEFAULT_ANIMATION_DURATION:2e3,TRIANGLE_DEFAULT_LINE_CAP:"round",TRIANGLE_DEFAULT_COLOR:"#000",TRIANGLE_DEFAULT_FILL_COLOR:"#000",TRIANGLE_DEFAULT_LINE_SIZE:3,TRIANGLE_DEFAULT_FILL:!0,SELECT_DEFAULT_BACKGROUND:"#ecf0f1",SELECT_DEFAULT_HOVER_BACKGROUND:"#bdc3c7",SELECT_DEFAULT_CLICK_BACKGROUND:"#adb2b5",CIRCLE_DEFAULT_LINE_CAP:"round",CIRCLE_DEFAULT_COLOR:"#fff",CIRCLE_DEFAULT_FILL_COLOR:"#000",CIRCLE_DEFAULT_LINE_SIZE:3,CIRCLE_DEFAULT_FILL:!0,ERROR_MENU_BACKGROUND_COLOR:"#3498db"},Key:{UP:38,RIGHT:39,BOTTOM:40,LEFT:37,ENTER:13,ECHAP:27,TAB:9},Alignement:{RIGHT:"right",LEFT:"left",CENTER:"center",DEFAULT:"default"},VerticalAlignement:{TOP:"top",CENTER:"center",BOTTOM:"bottom",DEFAULT:"default"},String:{ERROR_MESSAGE_CANVAS:"A fatal error has occurred at the JSGameTools level.",ERROR_MESSAGE_CANVAS_LABEL:":'(\nA fatal error has occurred at the JSGameTools level.",RETRY:"Retry",NOTICE_MESSAGE:"Notice:",WARNING_MESSAGE:"Warning:",ERROR_MESSAGE:"Error:",OPTIMIZATION_DISABLED:"Optimizations are disabled. You may notice low performance.",CONTAINER_CUTTING_DISABLED:"Containers cutting is disabled.",BUTTON_IMAGE_DEPRECATED:"JSGameTools.ButtonImage is deprecated. Please use a Button with an ImageContainer instead.",INPUT_FULLSCREEN:"The use of JSGameTools.Canvas is needed for Input components to properly work in fullscreen mode.",DETAILS:"Details"}},r=n(4),o=n.n(r),s=n(5),a=n.n(s),l=n(3),h=n.n(l),c=n(2),u=n.n(c),f=n(6),d=n.n(f),p=n(7),v=n.n(p),g=n(0),y=n.n(g),m=n(8),E=n.n(m),C=n(1),S=n.n(C),A=n(9),w=n.n(A),T=new WeakMap,k=function(){function t(e){o()(this,t),T.set(this,{writable:!0,value:{}}),E()(this,"component",void 0),this.setAll(e)}return a()(t,[{key:"set",value:function(t,e){S()(this,T)[t]!=e&&(S()(this,T)[t]=e,this.component&&this.component.reactor&&this.component.reactor.dispatchEvent("onChange",this))}},{key:"setAll",value:function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&this.set(e,t[e])}},{key:"copy",value:function(){return new t(S()(this,T))}},{key:"getStyles",value:function(){var t={};for(var e in S()(this,T))S()(this,T).hasOwnProperty(e)&&(t[e]=S()(this,T)[e]);return t}},{key:"fontColor",get:function(){return S()(this,T).fontColor}},{key:"fontColorHover",get:function(){return S()(this,T).fontColorHover}},{key:"fontColorDown",get:function(){return S()(this,T).fontColorDown}},{key:"fontFamily",get:function(){return null!=S()(this,T).fontFamily?S()(this,T).fontFamily:i.Setting.FONT_FAMILY}},{key:"fontSize",get:function(){return null!=S()(this,T).fontSize?S()(this,T).fontSize:i.Setting.FONT_SIZE}},{key:"bold",get:function(){return S()(this,T).bold}},{key:"underline",get:function(){return S()(this,T).underline}},{key:"wrap",get:function(){return S()(this,T).wrap}},{key:"backgroundColor",get:function(){return S()(this,T).backgroundColor}},{key:"foregroundColor",get:function(){return S()(this,T).foregroundColor}},{key:"backgroundColorHover",get:function(){return S()(this,T).backgroundColorHover}},{key:"backgroundColorDown",get:function(){return S()(this,T).backgroundColorDown}},{key:"borderColor",get:function(){return S()(this,T).borderColor}},{key:"borderColorHover",get:function(){return S()(this,T).borderColorHover}},{key:"borderColorDown",get:function(){return S()(this,T).borderColorDown}},{key:"borderColorSelected",get:function(){return null!=S()(this,T).borderColorSelected?S()(this,T).borderColorSelected:i.Setting.DEFAULT_BORDER_COLOR_SELECTED}},{key:"borderSize",get:function(){return null!=S()(this,T).borderSize?S()(this,T).borderSize:i.Setting.DEFAULT_BORDER_SIZE}},{key:"selectColor",get:function(){return S()(this,T).selectColor}},{key:"alignement",get:function(){return S()(this,T).alignement}},{key:"verticalAlignement",get:function(){return S()(this,T).verticalAlignement}},{key:"disableAnimation",get:function(){return S()(this,T).disableAnimation}},{key:"scrollXDisabled",get:function(){return S()(this,T).scrollXDisabled}},{key:"scrollYDisabled",get:function(){return S()(this,T).scrollYDisabled}},{key:"padding",get:function(){return null!=S()(this,T).padding?S()(this,T).padding:i.Setting.DEFAULT_PADDING}},{key:"spaceBetweenComponents",get:function(){return null!=S()(this,T).spaceBetweenComponents?S()(this,T).spaceBetweenComponents:i.Setting.DEFAULT_SPACING}},{key:"hidden",get:function(){return S()(this,T).hidden}},{key:"blurBackground",get:function(){return S()(this,T).blurBackground}},{key:"lineWidth",get:function(){return S()(this,T).lineWidth}},{key:"animationDuration",get:function(){return null!=S()(this,T).animationDuration?S()(this,T).animationDuration:i.Setting.DEFAULT_ANIMATION_DURATION}},{key:"foreground",get:function(){return S()(this,T).foreground}},{key:"zIndex",get:function(){return null!=S()(this,T).zIndex?S()(this,T).zIndex:0}},{key:"lineCap",get:function(){return S()(this,T).lineCap}},{key:"fill",get:function(){return S()(this,T).fill}},{key:"fillColor",get:function(){return S()(this,T).fillColor}},{key:"color",get:function(){return S()(this,T).color}},{key:"movable",get:function(){return S()(this,T).movable||!1}}]),t}(),R=function(){function t(e){o()(this,t),this.name=e,this.callbacks=[]}return a()(t,[{key:"registerCallback",value:function(t){this.callbacks.push(t)}},{key:"removeCallback",value:function(t){this.callbacks.filter((function(e){return e!=t}))}},{key:"removeAllCallbacks",value:function(){this.callbacks=[]}}]),t}(),L=function(){function t(){o()(this,t),this.events={}}return a()(t,[{key:"registerEvent",value:function(t){this.events[t]=new R(t)}},{key:"dispatchEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(this.events[t]){var r=this.events[t].callbacks;r.forEach((function(t){return t&&t.apply(void 0,n)}))}}},{key:"addEventListener",value:function(t,e){this.events[t]&&this.events[t].registerCallback(e)}},{key:"removeEventListener",value:function(t,e){this.events[t]&&this.events[t].removeCallback(e)}},{key:"removeAllEventListener",value:function(t){this.events[t]&&this.events[t].removeAllCallbacks()}}]),t}(),_=new WeakMap,I=new WeakMap,b=new WeakMap,O=new WeakMap,D=new WeakMap,x=new WeakMap,N=new WeakMap,F=function(){function t(e,n,i,r,s){var a=this;o()(this,t),E()(this,"selectable",!0),_.set(this,{writable:!0,value:0}),I.set(this,{writable:!0,value:0}),b.set(this,{writable:!0,value:0}),O.set(this,{writable:!0,value:0}),D.set(this,{writable:!0,value:!1}),x.set(this,{writable:!0,value:!1}),N.set(this,{writable:!0,value:void 0}),w()(this,b,e||0),w()(this,O,n||0),this.deltaX=0,this.deltaY=0,w()(this,_,i),w()(this,I,r),this.canvas,this.parent,this.style=s,this.reactor=new L,this.reactor.registerEvent("onClick"),this.reactor.registerEvent("onHover"),this.reactor.registerEvent("onDown"),this.reactor.registerEvent("onScroll"),this.reactor.registerEvent("onMove"),this.reactor.registerEvent("onUp"),this.reactor.registerEvent("onChange"),this.init=!1,this.hasInitEvents=!1,w()(this,x,!1),this.clicked=!1,this.hovered=!1,w()(this,D,!1),this.movable=!1,this.offsetScrollX=0,this.offsetScrollY=0,this.offsetMoveX=0,this.offsetMoveY=0,this.moveEventStartX=0,this.moveEventStartY=0,this.touchEventStartX=0,this.touchEventStartY=0,this.touchEventStartTimestamp=0,this.tooltip,this.initEvents(),this.addMoveAction((function(t,e){a.movable&&!a.disabled&&a.clicked&&(a.deltaX-=t,a.deltaY-=e)}))}return a()(t,[{key:"initEvents",value:function(){var t=this;if(!this.hasInitEvents&&null!=this.canvas){this.canvas.addEventListener("mousemove",this,(function(e,n){if(t.disabled)t.hovered=!1,t.clicked=!1,t.tooltip&&t.tooltip.disable();else{var i=t.getMousePos(e);if(t.clicked){var r=-e.movementX,o=-e.movementY;t.offsetMoveX+=r,t.offsetMoveY+=o,t.reactor&&t.reactor.dispatchEvent("onMove",r,o,i),t.moveEventStartX=i.x,t.moveEventStartY=i.y}n?(t.reactor&&!t.disabled&&t.reactor.dispatchEvent("onHover",i),t.tooltip&&(t.tooltip.x=i.x+10,t.tooltip.y=i.y+10,t.tooltip.enable()),t.hovered=!0):(t.hovered=!1,t.tooltip&&t.tooltip.disable())}})),this.canvas.addEventListener("click",this,(function(e,n){if(t.disabled)t.hovered=!1,t.clicked=!1;else{var i=t.getMousePos(e);n&&t.hovered?(t.reactor&&t.reactor.dispatchEvent("onClick",i),t.selected=!0):(t.clicked=!1,t.selected=!1)}})),this.canvas.addEventListener("mousedown",this,(function(e,n){if(t.disabled)t.hovered=!1,t.clicked=!1;else{var i=t.getMousePos(e);n&&(t.reactor&&t.reactor.dispatchEvent("onDown",i),t.clicked=!0,t.moveEventStartX=i.x,t.moveEventStartY=i.y)}})),this.canvas.addEventListener("mouseup",this,(function(e){if(!t.disabled){var n=t.getMousePos(e);t.reactor&&t.reactor.dispatchEvent("onUp",n),t.clicked=!1}})),this.canvas.addEventListener("wheel",this,(function(e){!t.hovered||t.disabled||t.scrollDisabled||(t.offsetScrollX+=e.deltaX,t.offsetScrollY+=e.deltaY,t.reactor&&t.reactor.dispatchEvent("onScroll",e.deltaX,e.deltaY))}));var e=function(e,n){var i=e.changedTouches[0],r=t.getMousePos(i);n?(t.hovered=!0,t.selected=!0):(t.hovered=!1,t.selected=!1),t.hovered&&!t.disabled&&(t.touchEventStartX=r.x,t.touchEventStartY=r.y,t.touchEventStartTimestamp=e.timestamp)};this.canvas.addEventListener("touchstart",this,e),this.canvas.addEventListener("touchend",this,e),this.canvas.addEventListener("touchmove",this,(function(e){!function(e){var n=e.changedTouches[0],i=t.getMousePos(n);if(t.hovered&&!t.disabled&&!t.scrollDisabled){var r=t.touchEventStartX-i.x,o=t.touchEventStartY-i.y;t.offsetScrollX+=r,t.offsetScrollY+=o,t.reactor&&t.reactor.dispatchEvent("onScroll",r,o,i),t.touchEventStartX=i.x,t.touchEventStartY=i.y}}(e),e.preventDefault()})),this.hasInitEvents=!0}}},{key:"draw",value:function(t){this.hidden||(this.initEvents(),this.disabled&&(this.selected=!1,this.clicked=!1,this.hovered=!1,this.tooltip&&(this.tooltip.disabled=!0)))}},{key:"getMousePos",value:function(t){return this.canvas.getMousePos(t)}},{key:"isInside",value:function(t){return t.x>this.x&&t.x<this.x+this.width&&t.y<this.y+this.height&&t.y>this.y}},{key:"disable",value:function(){return this.disabled=!0,!0}},{key:"enable",value:function(){return this.disabled=!1,!0}},{key:"setClickAction",value:function(t){this.removeAllClickActions(),this.addClickAction(t)}},{key:"addClickAction",value:function(t){this.reactor.addEventListener("onClick",t)}},{key:"removeClickAction",value:function(t){this.reactor.removeEventListener("onClick",t)}},{key:"removeAllClickActions",value:function(){this.reactor.removeAllEventListener("onClick")}},{key:"setHoverAction",value:function(t){this.removeAllHoverActions(),this.addHoverAction(t)}},{key:"addHoverAction",value:function(t){this.reactor.addEventListener("onHover",t)}},{key:"removeHoverAction",value:function(t){this.reactor.removeEventListener("onHover",t)}},{key:"removeAllHoverActions",value:function(){this.reactor.removeAllEventListener("onHover")}},{key:"setDownAction",value:function(t){this.removeAllDownActions(),this.addDownAction(t)}},{key:"addDownAction",value:function(t){this.reactor.addEventListener("onDown",t)}},{key:"removeDownAction",value:function(t){this.reactor.removeEventListener("onDown",t)}},{key:"removeAllDownActions",value:function(){this.reactor.removeAllEventListener("onDown")}},{key:"setScrollAction",value:function(t){this.removeAllScrollActions(),this.addScrollAction(t)}},{key:"addScrollAction",value:function(t){this.reactor.addEventListener("onScroll",t)}},{key:"removeScrollAction",value:function(t){this.reactor.removeEventListener("onScroll",t)}},{key:"removeAllScrollActions",value:function(){this.reactor.removeAllEventListener("onScroll")}},{key:"setMoveAction",value:function(t){this.removeAllMoveActions(),this.addMoveAction(t)}},{key:"addMoveAction",value:function(t){this.reactor.addEventListener("onMove",t)}},{key:"removeMoveAction",value:function(t){this.reactor.removeEventListener("onMove",t)}},{key:"removeAllMoveActions",value:function(){this.reactor.removeAllEventListener("onMove")}},{key:"setChangeAction",value:function(t){this.removeAllChangeActions(),this.addChangeAction(t)}},{key:"addChangeAction",value:function(t){this.reactor.addEventListener("onChange",t)}},{key:"removeChangeAction",value:function(t){this.reactor.removeEventListener("onChange",t)}},{key:"removeAllChangeActions",value:function(){this.reactor.removeAllEventListener("onChange")}},{key:"setUpAction",value:function(t){this.removeAllUpActions(),this.addUpAction(t)}},{key:"addUpAction",value:function(t){this.reactor.addEventListener("onUp",t)}},{key:"removeUpAction",value:function(t){this.reactor.removeEventListener("onUp",t)}},{key:"removeAllUpActions",value:function(){this.reactor.removeAllEventListener("onUp")}},{key:"getAllParents",value:function(){for(var t=this.parent,e=[];t;)e.push(t),t=t.parent;return e}},{key:"compareTo",value:function(t){var e=this.style&&this.style.foreground,n=t.style&&t.style.foreground,i=this.style&&this.style.zIndex,r=t.style&&t.style.zIndex;return this.parent==t?1:t.parent==this?-1:e&&!n?1:!e&&n?-1:i>r?1:i<r?-1:t.compareToComponent(this)||-this.compareToComponent(t)}},{key:"compareToComponent",value:function(t){return 0}},{key:"compareToMenu",value:function(t){return-1}},{key:"compareToTooltip",value:function(t){return-1}},{key:"compareToNotification",value:function(t){return-1}},{key:"compareToScrollbar",value:function(t){return-1}},{key:"disabled",get:function(){return S()(this,D)||this.parent&&this.parent.disabled},set:function(t){t!=S()(this,D)&&(w()(this,D,t),this.reactor&&this.reactor.dispatchEvent("onChange",this))}},{key:"height",get:function(){return S()(this,I)},set:function(t){t!=S()(this,I)&&(w()(this,I,t),this.reactor&&this.reactor.dispatchEvent("onChange",this))}},{key:"width",get:function(){return S()(this,_)},set:function(t){t!=S()(this,_)&&(w()(this,_,t),this.reactor&&this.reactor.dispatchEvent("onChange",this))}},{key:"maxWidth",get:function(){return this.width}},{key:"maxHeight",get:function(){return this.height}},{key:"innerWidth",get:function(){return this.width}},{key:"innerHeight",get:function(){return this.height}},{key:"minWidth",get:function(){return this.width}},{key:"minHeight",get:function(){return this.height}},{key:"x",get:function(){var t=this.parent||this.canvas;if(this.style.alignement&&t){var e=t.width,n=t.style&&t.style.padding||0;if(this.style.alignement==i.Alignement.CENTER)return t.x+e/2-this.width/2+this.deltaX;if(this.style.alignement==i.Alignement.RIGHT)return t.x+e-this.width-n+this.deltaX;if(this.style.alignement==i.Alignement.LEFT)return t.x+n+this.deltaX}else if(t)return t.x+S()(this,b)+this.deltaX;return S()(this,b)+this.deltaX},set:function(t){w()(this,b,t),this.reactor&&this.reactor.dispatchEvent("onChange",this)}},{key:"y",get:function(){var t=this.parent||this.canvas;if(this.style.verticalAlignement&&t){var e=t.height,n=t.style&&t.style.padding||0;if(this.style.verticalAlignement==i.VerticalAlignement.BOTTOM)return t.y+e-this.height-n+this.deltaY;if(this.style.verticalAlignement==i.VerticalAlignement.CENTER)return t.y+e/2-this.height/2+this.deltaY;if(this.style.verticalAlignement==i.VerticalAlignement.TOP)return t.y+n+this.deltaY}else if(t)return t.y+S()(this,O)+this.deltaY;return S()(this,O)+this.deltaY},set:function(t){w()(this,O,t),this.reactor&&this.reactor.dispatchEvent("onChange",this)}},{key:"defaultStyle",get:function(){return new k({padding:i.Setting.DEFAULT_PADDING,spaceBetweenComponents:i.Setting.DEFAULT_SPACING})}},{key:"style",get:function(){return S()(this,N)||this.defaultStyle},set:function(t){w()(this,N,new k),S()(this,N).setAll(this.defaultStyle.getStyles()),t&&t instanceof k&&S()(this,N).setAll(t.getStyles()),S()(this,N).component=this,this.reactor&&this.reactor.dispatchEvent("onChange",this)}},{key:"hidden",get:function(){return this.style&&this.style.hidden||this.parent&&this.parent.hidden},set:function(t){t==this.disabled&&t==this.style.hidden||(this.disabled=t,this.style&&this.style.set("hidden",t),this.reactor&&this.reactor.dispatchEvent("onChange",this))}},{key:"selected",get:function(){return S()(this,x)},set:function(t){t!=S()(this,x)&&(w()(this,x,t),this.reactor&&this.reactor.dispatchEvent("onChange",this))}}],[{key:"compareComponents",value:function(t,e){return t.compareTo(e)}}]),t}(),U=n(10),P=n.n(U);function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var B=function(t){d()(n,t);var e=M(n);function n(t,i,r,s,a){var l;return o()(this,n),l=e.call(this,t,i,r,s,a),E()(h()(l),"selectable",!1),l}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");e.save(),this.drawBackground(e),this.drawBorder(e),e.restore()}}},{key:"drawBackground",value:function(t){var e=this.backgroundColor;e&&(t.save(),t.fillStyle=e,t.fillRect(Math.round(this.x),Math.round(this.y),Math.round(this.width),Math.round(this.height)),t.restore())}},{key:"drawBorder",value:function(t){var e=this.borderColor;e&&this.style.borderSize>0&&(t.save(),t.strokeStyle=e,t.lineWidth=this.style.borderSize,t.strokeRect(Math.round(this.x),Math.round(this.y),Math.round(this.width-this.style.borderSize/2),Math.round(this.height-this.style.borderSize/2)),t.restore())}},{key:"backgroundColor",get:function(){return this.hovered&&this.clicked&&null!=this.style.backgroundColorDown?this.style.backgroundColorDown:this.hovered&&null!=this.style.backgroundColorHover?this.style.backgroundColorHover:this.style.backgroundColor}},{key:"borderColor",get:function(){return this.clicked&&this.hovered&&null!=this.style.borderColorDown?this.style.borderColorDown:!this.clicked&&this.hovered&&null!=this.style.borderColorHover?this.style.borderColorHover:this.selectable&&this.selected&&null!=this.style.borderColorSelected?this.style.borderColorSelected:this.style.borderColor}}]),n}(F);function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var z=function(t){d()(n,t);var e=W(n);function n(t,r,s){var a;return o()(this,n),a=e.call(this,null,null,null,null,r),E()(h()(a),"selectable",!0),a.parent=s,a.size=t||i.Setting.SCROLLBAR_DEFAULT_SIZE,a}return a()(n,[{key:"draw",value:function(t){this.hidden||(this.clicked&&(this.hovered=!0),u()(y()(n.prototype),"draw",this).call(this,t))}},{key:"compareToComponent",value:function(t){return t.compareToScrollbar(this)}},{key:"compareToScrollbar",value:function(t){return 0}},{key:"maxWidthParent",get:function(){return this.parent?this.parent.maxWidth-Math.abs(Math.min(0,this.parent.x)):0}},{key:"maxHeightParent",get:function(){return this.parent?this.parent.maxHeight-Math.abs(Math.min(0,this.parent.y)):0}},{key:"innerWidthParent",get:function(){return this.parent?this.parent.innerWidth-Math.abs(Math.min(0,this.parent.x)):0}},{key:"innerHeightParent",get:function(){return this.parent?this.parent.innerHeight-Math.abs(Math.min(0,this.parent.y)):0}},{key:"maxWidth",get:function(){return this.width}},{key:"maxHeight",get:function(){return this.height}},{key:"contentRatioX",get:function(){return this.parent?this.maxWidthParent/this.innerWidthParent:0}},{key:"contentRatioY",get:function(){return this.parent?this.maxHeightParent/this.innerHeightParent:0}},{key:"width",get:function(){return this.maxWidthParent*this.contentRatioX}},{key:"height",get:function(){return this.maxHeightParent*this.contentRatioY}},{key:"windowScrollSizeX",get:function(){return this.innerWidthParent-this.maxWidthParent}},{key:"windowScrollSizeY",get:function(){return this.innerHeightParent-this.maxHeightParent}},{key:"percentScrollbarX",get:function(){return this.parent?this.parent.offsetScrollX/this.windowScrollSizeX:0}},{key:"percentScrollbarY",get:function(){return this.parent?this.parent.offsetScrollY/this.windowScrollSizeY:0}},{key:"scrollAreaSizeX",get:function(){return this.maxWidthParent-this.width}},{key:"scrollAreaSizeY",get:function(){return this.maxHeightParent-this.height}},{key:"x",get:function(){return this.parent?Math.abs(this.parent.x)+this.scrollAreaSizeX*this.percentScrollbarX:0}},{key:"y",get:function(){return this.parent?Math.abs(this.parent.y)+this.scrollAreaSizeY*this.percentScrollbarY:0}},{key:"defaultStyle",get:function(){return new k({backgroundColor:i.Setting.SCROLLBAR_DEFAULT_BACKGROUND,backgroundColorHover:i.Setting.SCROLLBAR_DEFAULT_HOVER_BACKGROUND,backgroundColorDown:i.Setting.SCROLLBAR_DEFAULT_CLICK_BACKGROUND,borderSize:0})}}]),n}(B);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var X=function(t){d()(n,t);var e=H(n);function n(t,i,r){var s;return o()(this,n),s=e.call(this,t,i,r),E()(h()(s),"selectable",!0),s.addMoveAction((function(t){s.parent&&(s.parent.offsetScrollX-=t,s.parent.reactor&&s.parent.reactor.dispatchEvent("onScroll",-t,0))})),s}return a()(n,[{key:"draw",value:function(t){this.scrollAreaSizeX>0&&u()(y()(n.prototype),"draw",this).call(this,t)}},{key:"height",get:function(){return this.size}},{key:"y",get:function(){return this.parent?this.parent.y+this.parent.height-this.size:null}}]),n}(z);function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var K=function(t){d()(n,t);var e=G(n);function n(t,i,r){var s;return o()(this,n),s=e.call(this,t,i,r),E()(h()(s),"selectable",!0),s.addMoveAction((function(t,e){s.parent&&(s.parent.offsetScrollY-=e,s.parent.reactor&&s.parent.reactor.dispatchEvent("onScroll",0,-e))})),s}return a()(n,[{key:"draw",value:function(t){this.scrollAreaSizeY>0&&u()(y()(n.prototype),"draw",this).call(this,t)}},{key:"width",get:function(){return this.size}},{key:"x",get:function(){return this.parent?this.parent.x+this.parent.width-this.size:0}}]),n}(z),Y={preRenderedFont:{},lastKey:-1,preRenderFont:function(t,e,n,i){t.push("?"),t.push(" "),t.push("A");for(var r=0;r<t.length;r++){var o=document.createElement("canvas"),s=o.getContext("2d");s.font=e+"px "+i;var a=s.measureText(t[r]).width;o.width=a,o.height=e+e/6,s.font=e+"px "+i,s.fillStyle=n,s.textBaseline="top",s.fillText(t[r],0,0),this.preRenderedFont[t[r]]=o}},drawImage:function(t,e,n,i,r,o,s,a,l,h,c,u){this.drawImageWrapper(t,e,n,i,r,o,s,a,l,h,c,u)},drawImageData:function(t,e,n,i,r,o,s,a,l,h,c,u){this.drawImageWrapper(t,e,n,i,r,o,s,a,l,h,c,u)},drawImageWrapper:function(t,e,n,i,r,o,s,a,l,h,c,u){n=null==n||isNaN(n)?null:Math.round(n),i=null==i||isNaN(i)?null:Math.round(i),r=null==r||isNaN(r)?null:Math.round(r),o=null==o||isNaN(o)?null:Math.round(o),s=null==s||isNaN(s)?null:Math.round(s),a=null==a||isNaN(a)?null:Math.round(a),l=null==l||isNaN(l)?null:Math.round(l),h=null==h||isNaN(h)?null:Math.round(h),c=null!=c&&c,null!=(u=null==u||isNaN(u)?null:u)&&(t.save(),t.translate(n+r/2,i+o/2),t.rotate(u*Math.PI/180),n=-r/2,i=-o/2),c&&t.clearRect(n,i,r,o),null!=t&&null!=e&&e.width>0&&e.height>0&&(null!=s&&null!=a&&null!=l&&null!=h?t.drawImage(e,s,a,l,h,n,i,r,o):t.drawImage(e,n,i,r,o)),null!=u&&t.restore()},drawText:function(t,e,n,r,o,s,a,l,h,c,u,f,d,p){if(t){t.save(),Array.isArray(n)||(t.fillStyle=n,t.strokeStyle=n),t.font=(u?"bold ":"")+r+"px "+o,t.textBaseline=d||"bottom",t.filter="none",c&&(e=this.wrapTextLines(t,e).text);var v=e.split("\n"),g=0,y=Math.round(l),m=Math.round(h)+r,E=0;h||(a==i.VerticalAlignement.CENTER?m+=Math.round((p&&p.height?p.height:this.getCanvasHeight(t.canvas))/2-r*v.length/2):a==i.VerticalAlignement.BOTTOM&&(m+=Math.round((p&&p.height?p.height:this.getCanvasHeight(t.canvas))-r*v.length/2-r/5)));for(var C=0;C<v.length;C++){var S=v[C],A=t.measureText(S).width;if(Array.isArray(n)){var w=C;w>n.length-1&&(w=n.length-1),t.fillStyle=n[w],t.strokeStyle=n[w]}s==i.Alignement.CENTER?y=Math.round(p&&p.x?p.x:0)+Math.round((p&&p.width?p.width:this.getCanvasWidth(t.canvas))/2-t.measureText(S).width/2):s==i.Alignement.RIGHT&&(y=Math.round(p&&p.x?p.x:0)+Math.round((p&&p.width?p.width:this.getCanvasWidth(t.canvas))-t.measureText(S).width-(p&&p.spaceBetweenComponents?p.spaceBetweenComponents:i.Setting.DEFAULT_SPACING))),t.fillText(S,y,m),f&&(t.lineWidth=1,t.beginPath(),t.moveTo(y,m-2),t.lineTo(Math.round(y+A),m-2),t.stroke()),A>g&&(g=A),0==C&&(E=m),m+=r}return t.restore(),{x:y,y:E,height:r*v.length,width:g}}},wrapText:function(t,e){if(t.length>e){for(var n=e;n>0&&" "!=t[n];n--);if(n>0){var i=t.substring(0,n),r=t.substring(n+1);return i+"\n"+this.wrapText(r,e)}}return t},wrapTextLines:function(t,e,n,i,r,o){if(t&&e){t.save(),t.font=Math.round(i)+"px "+r,t.imageSmoothingEnabled=!1;for(var s=e.split("\n"),a="",l=n||t.measureText("A").width,h=Math.round(this.getCanvasWidth(t.canvas)/l),c=0,u=0,f=0;f<s.length;f++){var d=o?s[f]:this.wrapText(s[f],h);a+=d,f<s.length-1&&(a+="\n");for(var p=0;p<d.split("\n").length;p++){var v=t.measureText(d.split("\n")[p]).width;c+=i,v>u&&(u=v)}}return t.restore(),{text:a,height:c,width:u,carWidth:l}}return{text:"",height:0,width:0,carWidth:0}},drawArrow:function(t,e,n,r,o,s,a,l,h){t.save(),t.lineCap=h||i.Setting.ARROW_DEFAULT_LINE_CAP,t.lineWidth=s||i.Setting.ARROW_DEFAULT_LINE_SIZE,t.strokeStyle=l||i.Setting.ARROW_DEFAULT_COLOR,t.filter="",t.beginPath();var c=a||i.Setting.ARROW_DEFAULT_HEAD_SIZE,u=r-e,f=o-n,d=Math.atan2(f,u);t.moveTo(e,n),t.lineTo(r,o),t.moveTo(r,o),t.lineTo(r-c*Math.cos(d-Math.PI/6),o-c*Math.sin(d-Math.PI/6)),t.moveTo(r,o),t.lineTo(r-c*Math.cos(d+Math.PI/6),o-c*Math.sin(d+Math.PI/6)),t.stroke(),t.restore()},drawCross:function(t,e,n,r,o,s,a,l){t.save(),t.lineCap=l||i.Setting.CROSS_DEFAULT_LINE_CAP,t.lineWidth=s||i.Setting.CROSS_DEFAULT_LINE_SIZE,t.strokeStyle=a||i.Setting.CROSS_DEFAULT_COLOR,t.filter="",t.beginPath(),t.moveTo(e,n),t.lineTo(e+r,n+o),t.moveTo(e+r,n),t.lineTo(e,n+o),t.stroke(),t.restore()},drawTriangle:function(t,e,n,r,o,s,a,l){var h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:i.Setting.TRIANGLE_DEFAULT_FILL,c=arguments.length>9?arguments[9]:void 0;t.save(),t.lineCap=l||i.Setting.TRIANGLE_DEFAULT_LINE_CAP,t.lineWidth=s||i.Setting.TRIANGLE_DEFAULT_LINE_SIZE,t.filter="",h?(t.fillStyle=c||i.Setting.TRIANGLE_DEFAULT_FILL_COLOR,t.strokeStyle=a||i.Setting.TRIANGLE_DEFAULT_COLOR):t.strokeStyle=a||i.Setting.TRIANGLE_DEFAULT_COLOR,t.beginPath(),t.moveTo(e,n),t.lineTo(e+r,n),t.lineTo(e+r/2,n+o),t.lineTo(e,n),h?(t.fill(),t.stroke()):t.stroke(),t.restore()},drawCircle:function(t,e,n,r,o,s,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:i.Setting.CIRCLE_DEFAULT_FILL,h=arguments.length>8?arguments[8]:void 0;t.save(),t.lineCap=a||i.Setting.CIRCLE_DEFAULT_LINE_CAP,t.lineWidth=o||i.Setting.CIRCLE_DEFAULT_LINE_SIZE,t.filter="",l?(t.fillStyle=h||i.Setting.CIRCLE_DEFAULT_FILL_COLOR,t.strokeStyle=s||i.Setting.CIRCLE_DEFAULT_COLOR):t.strokeStyle=s||i.Setting.CIRCLE_DEFAULT_COLOR,t.beginPath(),t.arc(e+r/2,n+r/2,r/2,0,2*Math.PI,!1),l?(t.fill(),t.stroke()):t.stroke(),t.restore()},clear:function(t){t.clearRect(0,0,this.getCanvasWidth(t.canvas),this.getCanvasHeight(t.canvas))},isFilterHueAvailable:function(){var t=document.createElement("canvas");t.width=5,t.height=5;var e=t.getContext("2d");e.save(),e.fillStyle="#FF0000",e.filter="hue-rotate(90deg)",e.fillRect(0,0,5,5);var n=e.getImageData(0,0,1,1).data;return e.restore(),255!=n[0]||0!=n[1]||0!=n[2]},blurCanvas:function(t,e){t.save(),t.filter="blur("+e+"px)",this.drawImageData(t,t.canvas,0,0,this.getCanvasWidth(t.canvas),this.getCanvasHeight(t.canvas)),t.restore()},parseNumber:function(t){return t?parseInt(t.match(/\d+/),10):0},getFontSize:function(t){return Math.floor(parseNumber(t.font)/1.25)},getCanvasWidth:function(t){return this.parseNumber(t.style.width)||t.width},getCanvasHeight:function(t){return this.parseNumber(t.style.height)||t.height},autoDPI:function(t){var e=t.getBoundingClientRect();t.width=e.width*i.Setting.PIXEL_RATIO,t.height=e.height*i.Setting.PIXEL_RATIO,t.style.width=e.width+"px",t.style.height=e.height+"px"},autoResizeCanvas:function(t,e,n,i){if(document.fullscreenElement)document.fullscreenElement==t||document.fullscreenElement==e?(t.width=window.innerWidth,t.height=window.innerHeight,t.style&&(t.style.width=window.innerWidth+"px",t.style.height=window.innerHeight+"px"),e&&(e.width=window.innerWidth,e.height=window.innerHeight)):(t.width=n,t.height=i,t.style&&(t.style.width=n+"px",t.style.height=i+"px"));else if(n>=.85*document.documentElement.clientWidth){var r=n/i;t.width=.85*document.documentElement.clientWidth,t.height=t.width/r,t.style&&(t.style.width=t.width+"px",t.style.height=t.height+"px")}else t.width=n,t.height=i,t.style&&(t.style.width=n+"px",t.style.height=i+"px")},enableAutoResizeCanvas:function(t,e,n,i){var r=this;t&&"true"!=t.getAttribute("autoresize-canvas-event")&&(this.autoResizeCanvas(t,e,n,i),window.addEventListener("resize",(function(){t.setAttribute("autoresize-canvas-event","true"),r.autoResizeCanvas(t,e,n,i)})))},autoResizeCanvasFullscreen:function(t,e){document.fullscreenElement!=t&&document.fullscreenElement!=e||(t.width=window.innerWidth,t.height=window.innerHeight,t.style&&(t.style.width=window.innerWidth+"px",t.style.height=window.innerHeight+"px"),e&&(e.width=window.innerWidth,e.height=window.innerHeight))},enableAutoResizeCanvasFullscreen:function(t,e){var n=this;t&&"true"!=t.getAttribute("autoresizefullscreen-canvas-event")&&(this.autoResizeCanvasFullscreen(t,e),window.addEventListener("resize",(function(){t.setAttribute("autoresizefullscreen-canvas-event","true"),n.autoResizeCanvasFullscreen(t,e)})))},autoResizeCanvasFullpage:function(t,e){t&&"true"==t.getAttribute("fullpage-canvas-enable")&&(t.width=window.innerWidth,t.height=window.innerHeight,t.style&&(t.style.width=window.innerWidth+"px",t.style.height=window.innerHeight+"px"),e&&(e.width=window.innerWidth,e.height=window.innerHeight,e.style.margin=0,e.style.padding=0),document.body.style.margin=0,document.body.style.padding=0)},enableAutoResizeCanvasFullpage:function(t,e){var n=this;t&&"true"!=t.getAttribute("autoresizefullpage-canvas-event")&&(this.autoResizeCanvasFullpage(t,e),window.addEventListener("resize",(function(){t.setAttribute("autoresizefullpage-canvas-event","true"),n.autoResizeCanvasFullpage(t,e)})))},toggleFullscreen:function(t,e){if(t){var n=t.width,i=t.height;if(e&&(e.width=n,e.height=i),document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():(e||t).requestFullscreen?(e||t).requestFullscreen():(e||t).mozRequestFullScreen?(e||t).mozRequestFullScreen():(e||t).webkitRequestFullscreen?(e||t).webkitRequestFullscreen():(e||t).msRequestFullscreen?(e||t).msRequestFullscreen():(e||t).oRequestFullscreen&&(e||t).oRequestFullscreen(),this.enableAutoResizeCanvasFullscreen(t,e),"true"!=t.getAttribute("fullscreenchange-canvas-event")){t.setAttribute("fullscreenchange-canvas-event","true");var r=function(){document.fullscreenElement!=(e||t)&&(t.width=n,t.height=i,e&&(e.width=n,e.height=i))};void 0!==document.onfullscreenchange?document.onfullscreenchange=r:void 0!==document.onmsfullscreenchange?document.onmsfullscreenchange=r:void 0!==document.onmozfullscreenchange?document.onmozfullscreenchange=r:void 0!==document.onwebkitfullscreenchange?document.onwebkitfullscreenchange=r:void 0!==document.onokitfullscreenchange&&(document.onofullscreenchange=r)}}},toggleFullpage:function(t,e){if(t){var n=t.width,i=t.height;e&&(e.width=n,e.height=i),t.getAttribute("fullpage-canvas-enable")&&"false"!=t.getAttribute("fullpage-canvas-enable")?t.setAttribute("fullpage-canvas-enable","false"):t.setAttribute("fullpage-canvas-enable","true"),this.enableAutoResizeCanvasFullpage(t,e)}},getMousePos:function(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}};function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Z=new WeakMap,j=new WeakMap,q=new WeakMap,J=new WeakMap,Q=new WeakMap,$=function(t){d()(n,t);var e=V(n);function n(t,r,s,a,l){var c,u;o()(this,n),u=e.call(this,t,r,null,null,l),E()(h()(u),"selectable",!1),Z.set(h()(u),{writable:!0,value:[]}),j.set(h()(u),{writable:!0,value:0}),q.set(h()(u),{writable:!0,value:0}),J.set(h()(u),{writable:!0,value:0}),Q.set(h()(u),{writable:!0,value:0}),E()(h()(u),"eventChangeCallback",(function(){return u.reactor.dispatchEvent("onChange",h()(u))}));for(var f=arguments.length,d=new Array(f>5?f-5:0),p=5;p<f;p++)d[p-5]=arguments[p];return(c=u).addAll.apply(c,d),u.canvasTmp=document.createElement("canvas"),w()(h()(u),j,s),w()(h()(u),q,a),u.scrollbarHorizontal=new X(null,null,h()(u)),u.scrollbarVertical=new K(null,null,h()(u)),u.addScrollAction((function(t,e){return u.controlScrolling(t,e)})),i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS||u.addChangeAction((function(t){t==u.parent&&u.components.forEach((function(t){return t&&t.reactor.dispatchEvent("onChange",h()(u))}))})),u}return a()(n,[{key:"draw",value:function(t){var e=this;if(!this.hidden){var r=t.canvas,o=r.getContext("2d");if(o.save(),this.isCutting){var s=this.canvasTmp.getContext("2d");this.canvasTmp.width=Y.getCanvasWidth(r)*i.Setting.PIXEL_RATIO,this.canvasTmp.height=Y.getCanvasHeight(r)*i.Setting.PIXEL_RATIO,this.canvasTmp.style.width=Y.getCanvasWidth(r),this.canvasTmp.style.height=Y.getCanvasHeight(r),Y.clear(s)}this.components.forEach((function(t){e.canvas&&(t.canvas=e.canvas)})),this.controlScrolling(0,0),u()(y()(n.prototype),"draw",this).call(this,t),o.restore()}}},{key:"drawVerticalScrollBar",value:function(t){this.scrollbarVertical&&(this.scrollbarVertical.canvas=this.canvas,this.scrollbarVertical.draw(t))}},{key:"drawHorizontalScrollBar",value:function(t){this.scrollbarHorizontal&&(this.scrollbarHorizontal.canvas=this.canvas,this.scrollbarHorizontal.draw(t))}},{key:"drawScrollbars",value:function(t){this.style.scrollXDisabled||this.drawHorizontalScrollBar(t),this.style.scrollYDisabled||this.drawVerticalScrollBar(t)}},{key:"set",value:function(){for(var t=this,e=!1,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i.length==this.components.length?i.forEach((function(n,i){t.components[i]!=n&&(e=!0)})):e=!0,e&&(this.clear(),this.addAll.apply(this,i))}},{key:"add",value:function(t){S()(this,Z).push(t),t.parent=this,this.canvas&&(t.canvas=this.canvas),t.addChangeAction(this.eventChangeCallback),this.reactor.dispatchEvent("onChange",this)}},{key:"addAll",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach((function(e){return t.add(e)}))}},{key:"remove",value:function(t){-1!=S()(this,Z).indexOf(t)&&(t.removeChangeAction(this.eventChangeCallback),w()(this,Z,S()(this,Z).filter((function(e){return t!=e}))),this.reactor.dispatchEvent("onChange",this))}},{key:"clear",value:function(){var t=this;S()(this,Z).forEach((function(e){return t.remove(e)})),this.reactor.dispatchEvent("onChange",this)}},{key:"getComponentsTree",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n={component:e,childs:[]};return e.allComponents&&e.allComponents.forEach((function(e){return n.childs.push(t.getComponentsTree(e))})),n}},{key:"disable",value:function(){var t=u()(y()(n.prototype),"disable",this).call(this);S()(this,Z).forEach((function(e){e&&e.disable&&e.disable()&&(t=!0)})),t&&this.reactor.dispatchEvent("onChange",this)}},{key:"enable",value:function(){var t=u()(y()(n.prototype),"enable",this).call(this);S()(this,Z).forEach((function(e){e&&e.enable&&e.enable()&&(t=!0)})),t&&this.reactor.dispatchEvent("onChange",this)}},{key:"updateInnerHeight",value:function(){}},{key:"updateInnerWidth",value:function(){}},{key:"getComponentId",value:function(t){var e=null;return S()(this,Z).forEach((function(n,i){n==t&&(e=i)})),e}},{key:"controlScrolling",value:function(t,e){if(this.style.scrollYDisabled)this.offsetScrollY-=e;else if(this.scrollAreaSizeY<=0)this.offsetScrollY=0;else{var n=this.offsetScrollY/this.scrollAreaSizeY;n<=0&&e<=0?this.offsetScrollY=Math.min(0,this.y):n>1&&e>=0&&(this.offsetScrollY=this.scrollAreaSizeY)}if(this.style.scrollXDisabled)this.offsetScrollX-=t;else if(this.scrollAreaSizeX<=0)this.offsetScrollX=0;else{var i=this.offsetScrollX/this.scrollAreaSizeX;i<=0&&t<=0?this.offsetScrollX=Math.min(0,this.x):i>1&&t>=0&&(this.offsetScrollX=this.scrollAreaSizeX)}}},{key:"isComponentVisible",value:function(t){if(i.Setting.DISABLE_OPTIMIZATIONS)return!0;if(t instanceof F&&!t.hidden){if(!i.Setting.DISABLE_IS_COMPONENT_VISIBLE_OPTIMIZATIONS&&this.parent&&this.parent.isComponentVisible&&!this.parent.isComponentVisible(t))return!1;var e=this.width,n=this.height,r=t.width,o=t.height,s=this.canvas&&this.canvas.width||e,a=this.canvas&&this.canvas.height||n;if(t.x+r>=this.x&&t.x<=this.x+e&&t.y+o>=this.y&&t.y<=this.y+n&&t.x+r>=0&&t.x<=s&&t.y+o>=0&&t.y<=a)return!0}return!1}},{key:"components",get:function(){var t=[];return S()(this,Z).forEach((function(e){return t.push(e)})),t}},{key:"allComponents",get:function(){var t=this.components;return t.push(this.scrollbarHorizontal),t.push(this.scrollbarVertical),t}},{key:"width",get:function(){var t=this.parent&&this.parent.width,e=null!=this.maxWidth?Math.min(this.maxWidth,t):null;return null!=this.minWidth?Math.max(this.minWidth,null!=e?e:t):t}},{key:"height",get:function(){var t=this.parent&&this.parent.height,e=null!=this.maxWidth?Math.min(this.maxHeight,t):null;return null!=this.minHeight?Math.max(this.minHeight,null!=e?e:t):t}},{key:"maxWidth",get:function(){return S()(this,j)},set:function(t){t!=S()(this,j)&&(w()(this,j,t),this.reactor.dispatchEvent("onChange",this))}},{key:"maxHeight",get:function(){return S()(this,q)},set:function(t){t!=S()(this,q)&&(w()(this,q,t),this.reactor.dispatchEvent("onChange",this))}},{key:"minWidth",get:function(){return S()(this,J)},set:function(t){t!=S()(this,J)&&(w()(this,J,t),this.reactor.dispatchEvent("onChange",this))}},{key:"minHeight",get:function(){return S()(this,Q)},set:function(t){t!=S()(this,Q)&&(w()(this,Q,t),this.reactor.dispatchEvent("onChange",this))}},{key:"canvas",set:function(t){var e=this;t!=this.canvas&&(P()(y()(n.prototype),"canvas",t,this,!0),S()(this,Z).forEach((function(n){n.canvas=t,n.reactor&&n.reactor.dispatchEvent("onChange",e)})),this.reactor.dispatchEvent("onChange",this))},get:function(){return u()(y()(n.prototype),"canvas",this)}},{key:"scrollAreaSizeX",get:function(){return this.innerWidth-this.width}},{key:"scrollAreaSizeY",get:function(){return this.innerHeight-this.height}},{key:"isCutting",get:function(){return!i.Setting.DISABLE_CONTAINERS_CUTTING&&(this.maxWidth&&this.innerWidth>this.maxWidth||this.maxHeight&&this.innerHeight>this.maxHeight)&&null!=this.canvasTmp}},{key:"defaultStyle",get:function(){return new k({padding:0,spaceBetweenComponents:i.Setting.DEFAULT_SPACING})}}],[{key:"sortComponentsTree",value:function(t,e){return t.component.compareTo(e.component)}}]),n}(B);function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var et=new WeakMap,nt=new WeakMap,it=function(t){d()(n,t);var e=tt(n);function n(t,r,s,a,l){var c;o()(this,n);for(var u=arguments.length,f=new Array(u>5?u-5:0),d=5;d<u;d++)f[d-5]=arguments[d];return c=e.call.apply(e,[this,t,r,s,a,l].concat(f)),E()(h()(c),"selectable",!1),et.set(h()(c),{writable:!0,value:0}),nt.set(h()(c),{writable:!0,value:0}),i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS||(c.updateInnerWidth(),c.updateInnerHeight(),c.addChangeAction((function(){c.updateInnerWidth(),c.updateInnerHeight()}))),c}return a()(n,[{key:"draw",value:function(t){var e=this;if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var r=t.canvas.getContext("2d");r.save();var o=r;if(this.isCutting&&(o=this.canvasTmp.getContext("2d")).scale(i.Setting.PIXEL_RATIO,i.Setting.PIXEL_RATIO),null!=u()(y()(n.prototype),"components",this)){var s=this.style.padding;u()(y()(n.prototype),"components",this).forEach((function(t){s=e.drawComponent(t,s,o)}))}this.isCutting&&Y.drawImageData(r,this.canvasTmp,this.x,this.y,this.width,this.height,this.x*i.Setting.PIXEL_RATIO,this.y*i.Setting.PIXEL_RATIO,this.width*i.Setting.PIXEL_RATIO,this.height*i.Setting.PIXEL_RATIO),u()(y()(n.prototype),"drawScrollbars",this).call(this,r),r.restore()}}},{key:"drawComponent",value:function(t,e,n){return t instanceof F&&(t.x=e-this.offsetScrollX,t.y=this.style.padding-this.offsetScrollY,t.hidden||(this.isComponentVisible(t)&&t.draw(n),e+=t.width+this.style.spaceBetweenComponents)),e}},{key:"updateInnerHeight",value:function(){var t=0;u()(y()(n.prototype),"components",this).forEach((function(e){e.height>t&&!e.hidden&&(t=e.height)})),w()(this,et,t+this.style.padding)}},{key:"updateInnerWidth",value:function(){var t=0;u()(y()(n.prototype),"components",this).forEach((function(e){e.hidden||(t+=e.width)})),w()(this,nt,t+this.style.spaceBetweenComponents*(u()(y()(n.prototype),"components",this).length-1)+this.style.padding)}},{key:"innerHeight",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateInnerHeight(),S()(this,et)}},{key:"innerWidth",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateInnerWidth(),S()(this,nt)}},{key:"width",get:function(){var t=this.innerWidth||this.parent&&this.parent.width,e=null!=this.maxWidth?Math.min(this.maxWidth,t):null;return null!=this.minWidth?Math.max(this.minWidth,null!=e?e:t):null!=e?e:t}},{key:"height",get:function(){var t=this.innerHeight||this.parent&&this.parent.height,e=null!=this.maxHeight?Math.min(this.maxHeight,t):null;return null!=this.minHeight?Math.max(this.minHeight,null!=e?e:t):null!=e?e:t}},{key:"defaultStyle",get:function(){return u()(y()(n.prototype),"defaultStyle",this)}}]),n}($);function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var ot=function(t){d()(n,t);var e=rt(n);function n(t,i,r,s,a){var l;o()(this,n);for(var c=arguments.length,u=new Array(c>5?c-5:0),f=5;f<c;f++)u[f-5]=arguments[f];return l=e.call.apply(e,[this,t,i,r,s,a].concat(u)),E()(h()(l),"selectable",!0),l}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");e.save(),this.drawComponents(e),e.restore()}}},{key:"drawComponents",value:function(t){u()(y()(n.prototype),"draw",this).call(this,t)}},{key:"height",get:function(){return(this.maxHeight||u()(y()(n.prototype),"height",this))+this.style.padding}},{key:"width",get:function(){return(this.maxWidth||u()(y()(n.prototype),"width",this))+this.style.padding}},{key:"defaultStyle",get:function(){return new k({backgroundColor:i.Setting.BUTTON_DEFAULT_BACKGROUND,backgroundColorHover:i.Setting.BUTTON_DEFAULT_HOVER_BACKGROUND,backgroundColorDown:i.Setting.BUTTON_DEFAULT_CLICK_BACKGROUND,scrollXDisabled:!0,scrollYDisabled:!0})}}]),n}(it);function st(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var at=function(t){d()(n,t);var e=st(n);function n(t,i,r,s,a,l,c){var u;return o()(this,n),u=e.call(this,i,r,s,a,l),E()(h()(u),"selectable",!1),u.image,u.imgSrc,u.imageLoader=c,t instanceof Image?(u.image=t,u.imgSrc=t.src):u.imgSrc=t,u}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");e.save(),null!=this.imgSrc&&null!=this.imageLoader&&this.loadImage(this.imageLoader),null!=this.image&&this.drawImage(e),e.restore()}}},{key:"drawImage",value:function(t){Y.drawImage(t,this.image,Math.round(this.x),Math.round(this.y),Math.round(this.width),Math.round(this.height))}},{key:"loadImage",value:function(t){this.image=t.get(this.imgSrc)}},{key:"sizes",get:function(){var t=u()(y()(n.prototype),"width",this),e=u()(y()(n.prototype),"height",this);if(this.imageLoader&&this.loadImage(this.imageLoader),this.image&&(this.image.width>u()(y()(n.prototype),"width",this)||this.image.height>u()(y()(n.prototype),"height",this))){var i=this.image.width/this.image.height;t=Math.floor(u()(y()(n.prototype),"width",this)/1.25),e=Math.floor(t/i)}return{width:t,height:e}}},{key:"height",get:function(){return this.sizes.height},set:function(t){P()(y()(n.prototype),"height",t,this,!0)}},{key:"width",get:function(){return this.sizes.width},set:function(t){P()(y()(n.prototype),"width",t,this,!0)}}]),n}(F);function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var ht=function(t){d()(n,t);var e=lt(n);function n(t,r,s,a,l,h,c,u,f,d){var p;o()(this,n);var v=new k({alignement:a,verticalAlignement:l,backgroundColor:u||i.Setting.BUTTON_DEFAULT_BACKGROUND,backgroundColorHover:f||i.Setting.BUTTON_DEFAULT_HOVER_BACKGROUND});return(p=e.call(this,r,s,h,c,v)).image=new at(t,r,s,h,c,new k({alignement:"center",verticalAlignement:"center"}),d),p.add(p.image),console&&console.warn&&console.warn(i.String.NOTICE_MESSAGE+" "+i.String.BUTTON_IMAGE_DEPRECATED),p}return a()(n,[{key:"loadImage",value:function(t){this.components[0]instanceof at&&this.components[0].loadImage(t)}},{key:"minWidth",set:function(t){this.image.width=t,P()(y()(n.prototype),"minWidth",t,this,!0)},get:function(){return u()(y()(n.prototype),"minWidth",this)}},{key:"minHeight",set:function(t){this.image.height=t,P()(y()(n.prototype),"minHeight",t,this,!0)},get:function(){return u()(y()(n.prototype),"minHeight",this)}},{key:"maxWidth",set:function(t){this.image.width=t,P()(y()(n.prototype),"maxWidth",t,this,!0)},get:function(){return u()(y()(n.prototype),"maxWidth",this)}},{key:"maxHeight",set:function(t){this.image.height=t,P()(y()(n.prototype),"maxHeight",t,this,!0)},get:function(){return u()(y()(n.prototype),"maxHeight",this)}},{key:"width",set:function(t){this.minWidth=t,this.maxWidth=t},get:function(){return u()(y()(n.prototype),"width",this)}},{key:"height",set:function(t){this.minHeight=t,this.maxHeight=t},get:function(){return u()(y()(n.prototype),"height",this)}}]),n}(ot),ct=function(){function t(){o()(this,t),this.images={},this.imagesResized={},this.triedLoading=0,this.hasError=!1,this.nbImagesToLoad=1,this.firstImage=!0}return a()(t,[{key:"load",value:function(t,e){var n=this;if(this.firstImage&&(this.nbImagesToLoad=t.length,this.firstImage=!1),!(t.length>0))return e();this.loadImage(t[0],(function(i){if(1!=i)return n.hasError=!0,e();t.shift(),n.load(t,e)}))}},{key:"loadImage",value:function(t,e){var n=this;this.triedLoading++;var i=new Image;i.src=t,i.onload=function(){return null==n.images?e(!1):(n.images[t]=i,n.triedLoading=0,e(!0))},i.onerror=function(){if(n.triedLoading>=5)return null!=n.images&&(n.images[t]=i),n.triedLoading=0,e(!1);setTimeout((function(){n.loadImage(t,e)}),250)}}},{key:"get",value:function(t,e,n){if(null!=this.images&&this.images.hasOwnProperty(t)){var i=this.images[t];if(!e&&!n||i.width==e&&i.height==n)return i;var r=Math.round(e),o=Math.round(n),s=t+"@"+r+"-"+o;if(!this.imagesResized.hasOwnProperty(s)){var a=document.createElement("canvas"),l=a.getContext("2d");a.width=r,a.height=o,Y.drawImage(l,i,0,0,r,o,0,0,i.width,i.height),this.imagesResized[s]=a}return this.imagesResized[s]}return null}},{key:"clear",value:function(){this.images=null}}]),t}(),ut=n(15),ft=n.n(ut),dt=n(11),pt=n.n(dt);function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var gt=new WeakMap,yt=new WeakMap,mt=function(t){d()(n,t);var e=vt(n);function n(t,r,s,a,l){var c;o()(this,n);for(var u=arguments.length,f=new Array(u>5?u-5:0),d=5;d<u;d++)f[d-5]=arguments[d];return c=e.call.apply(e,[this,t,r,s,a,l].concat(f)),E()(h()(c),"selectable",!1),gt.set(h()(c),{writable:!0,value:0}),yt.set(h()(c),{writable:!0,value:0}),i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS||(c.updateInnerWidth(),c.updateInnerHeight(),c.addChangeAction((function(){c.updateInnerWidth(),c.updateInnerHeight()}))),c}return a()(n,[{key:"draw",value:function(t){var e=this;if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var r=t.canvas.getContext("2d");r.save();var o=r;if(this.isCutting&&(o=this.canvasTmp.getContext("2d")).scale(i.Setting.PIXEL_RATIO,i.Setting.PIXEL_RATIO),null!=u()(y()(n.prototype),"components",this)){var s=this.style.padding;u()(y()(n.prototype),"components",this).forEach((function(t){s=e.drawComponent(t,s,o)}))}this.isCutting&&Y.drawImageData(r,this.canvasTmp,this.x,this.y,this.width,this.height,this.x*i.Setting.PIXEL_RATIO,this.y*i.Setting.PIXEL_RATIO,this.width*i.Setting.PIXEL_RATIO,this.height*i.Setting.PIXEL_RATIO),u()(y()(n.prototype),"drawScrollbars",this).call(this,r),r.restore()}}},{key:"drawComponent",value:function(t,e,n){return t instanceof F&&(t.x=this.style.padding-this.offsetScrollX,t.y=e-this.offsetScrollY,t.hidden||(this.isComponentVisible(t)&&t.draw(n),e+=t.height+this.style.spaceBetweenComponents)),e}},{key:"updateInnerHeight",value:function(){var t=0;u()(y()(n.prototype),"components",this).forEach((function(e){e.hidden||(t+=e.height)})),w()(this,gt,t+this.style.spaceBetweenComponents*(u()(y()(n.prototype),"components",this).length-1)+this.style.padding)}},{key:"updateInnerWidth",value:function(){var t=0;u()(y()(n.prototype),"components",this).forEach((function(e){e.width>t&&!e.hidden&&(t=e.width)})),w()(this,yt,t+this.style.padding)}},{key:"innerHeight",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateInnerHeight(),S()(this,gt)}},{key:"innerWidth",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateInnerWidth(),S()(this,yt)}},{key:"width",get:function(){var t=this.innerWidth||this.parent&&this.parent.width,e=null!=this.maxWidth?Math.min(this.maxWidth,t):null;return null!=this.minWidth?Math.max(this.minWidth,null!=e?e:t):null!=e?e:t}},{key:"height",get:function(){var t=this.innerHeight||this.parent&&this.parent.height,e=null!=this.maxHeight?Math.min(this.maxHeight,t):null;return null!=this.minHeight?Math.max(this.minHeight,null!=e?e:t):null!=e?e:t}},{key:"defaultStyle",get:function(){return u()(y()(n.prototype),"defaultStyle",this)}}]),n}($);function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Ct=function(t){d()(n,t);var e=Et(n);function n(t,i,r,s,a){var l;return o()(this,n),l=e.call(this,t,i,r,s,a),E()(h()(l),"selectable",!1),l}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");Y.drawCross(e,this.x,this.y,this.width,this.height,this.style.lineWidth,this.style.color,this.style.lineCap),this.init=!0}}},{key:"width",get:function(){return u()(y()(n.prototype),"width",this)+this.style.lineWidth},set:function(t){P()(y()(n.prototype),"width",t,this,!0)}},{key:"height",get:function(){return u()(y()(n.prototype),"height",this)+this.style.lineWidth},set:function(t){P()(y()(n.prototype),"height",t,this,!0)}},{key:"defaultStyle",get:function(){return new k({lineWidth:i.Setting.CROSS_DEFAULT_LINE_SIZE,color:i.Setting.CROSS_DEFAULT_COLOR,lineCap:i.Setting.CROSS_DEFAULT_LINE_CAP})}}]),n}(F);function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var At=function(t){d()(n,t);var e=St(n);function n(t,r,s){var a;o()(this,n);for(var l=arguments.length,c=new Array(l>3?l-3:0),u=3;u<l;u++)c[u-3]=arguments[u];return a=e.call.apply(e,[this,0,0,null,null,t].concat(c)),E()(h()(a),"selectable",!1),a.delayBeforeClosing=null==r?5:r,a.timeLastFrame=0,a.animationTime=0,a.closed=!0,a.closing=!1,a.easingFunction=s,a.closeButton=new ot(null,null,null,null,new k({alignement:i.Alignement.RIGHT,verticalAlignement:i.VerticalAlignement.TOP,padding:10}),new Ct(null,null,10,10)),a.add(a.closeButton),a}return a()(n,[{key:"draw",value:function(t){var e=this;if(!this.hidden){this.closeButton.canvas=this.canvas;var n=t.canvas.getContext("2d");n.save(),this.init||(this.timeLastFrame=performance.now()),null!=this.closeButton&&this.closeButton.setClickAction((function(){e.close()}));var i=performance.now()-this.timeLastFrame;this.timeLastFrame=performance.now(),this.animationTime>=1e3*this.delayBeforeClosing&&!this.closing&&!this.closed&&this.close(),this.closing?this.style.disableAnimation?this.animationTime=-1:this.animationTime-=i:this.animationTime+=i,this.animationTime<0&&(this.closed=!0,this.closing=!1),this.closed?this.disableCloseButton():(this.drawComponents(n),null!=this.closeButton&&(this.closeButton.y=this.y+this.style.padding/2,this.closeButton.draw(n)),this.enableCloseButton()),n.restore(),this.init=!0}}},{key:"drawComponents",value:function(t){u()(y()(n.prototype),"draw",this).call(this,t)}},{key:"close",value:function(){this.disableCloseButton(),this.closing||(this.closing=!0,this.animationTime=this.style.animationDuration)}},{key:"open",value:function(){this.timeLastFrame=0,this.animationTime=0,this.init=!1,this.closed=!1,this.closing=!1}},{key:"disableCloseButton",value:function(){null!=this.closeButton&&null!=this.closeButton&&this.closeButton instanceof ot&&this.closeButton.disable()}},{key:"enableCloseButton",value:function(){null!=this.closeButton&&null!=this.closeButton&&this.closeButton instanceof ot&&this.closeButton.enable()}},{key:"copy",value:function(){return ft()(n,[this.style.copy(),this.delayBeforeClosing,this.easingFunction].concat(pt()(this.components)))}},{key:"compareToComponent",value:function(t){return t.compareToNotification(this)}},{key:"compareToTooltip",value:function(t){return-1}},{key:"compareToNotification",value:function(t){return 0}},{key:"compareToMenu",value:function(t){return-1}},{key:"offsetY",get:function(){var t=1;return this.style.disableAnimation||(t=this.animationTime/this.style.animationDuration,this.easingFunction&&(t=this.easingFunction(t))),t}},{key:"y",get:function(){var t=this.offsetY;return this.style.verticalAlignement==i.VerticalAlignement.TOP?this.height*(t<=1?t:1)-this.height:this.canvas.scene.height-this.height*(t<=1?t:1)},set:function(t){P()(y()(n.prototype),"y",t,this,!0)}},{key:"width",get:function(){return this.canvas&&this.canvas.scene?this.canvas.scene.width:null}},{key:"height",get:function(){return u()(y()(n.prototype),"height",this)-(this.closeButton?this.closeButton.height:0)}},{key:"defaultStyle",get:function(){return new k({alignement:i.Alignement.CENTER,backgroundColor:i.Setting.NOTIFICATION_DEFAULT_BACKGROUND,animationDuration:i.Setting.NOTIFICATION_DEFAULT_ANIMATION_DURATION})}},{key:"hidden",get:function(){return u()(y()(n.prototype),"hidden",this)||this.closed},set:function(t){P()(y()(n.prototype),"hidden",t,this,!0),t?this.forceClose():this.open()}}]),n}(mt);function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Tt=function(t){d()(n,t);var e=wt(n);function n(t){var i;o()(this,n);for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return i=e.call.apply(e,[this,0,0,null,null,t].concat(s)),E()(h()(i),"selectable",!1),i.lastKey=null==i.lastKey?-1:i.lastKey,i.selectedComponent=null==i.selectedComponent?0:i.selectedComponent,i.disable(),i}return a()(n,[{key:"draw",value:function(t){var e=this;if(!this.hidden){var n=t.canvas.getContext("2d");this.style.blurBackground&&this.drawBlur(n),n.save(),this.drawComponents(n),this.init||(document.addEventListener("keydown",(function(t){e.disabled||(e.lastKey=t.keyCode,e.lastKey!=i.Key.UP&&e.lastKey!=i.Key.BOTTOM||t.preventDefault())})),this.init=!0);var r=!1;null!=this.components&&(this.lastKey==i.Key.UP?(this.select(this.selectedComponent-1),r=!0):this.lastKey==i.Key.BOTTOM?(this.select(this.selectedComponent+1),r=!0):this.lastKey==i.Key.ECHAP?(this.disable(),r=!0):this.components.forEach((function(t,n){t.selected&&e.select(n)})),this.components.forEach((function(t,n){if(t instanceof F){if(r)if(e.selectedComponent==n){if(t.selectable&&(t.selected=!0),!e.isComponentVisible(t)){var o=t.height,s=e.maxHeight-e.offsetScrollY-(t.y+o);e.offsetScrollY=-s,e.controlScrolling(null,-s)}}else t.selected=!1;if(e.selectedComponent==n&&e.lastKey==i.Key.ENTER&&t.reactor&&!t.disabled)return e.lastKey=-1,e.selectedComponent=0,void t.reactor.dispatchEvent("onClick")}}))),n.restore(),this.lastKey=-1}}},{key:"drawComponents",value:function(t){u()(y()(n.prototype),"draw",this).call(this,t)}},{key:"drawBlur",value:function(t){Y.blurCanvas(t,5)}},{key:"drawBackground",value:function(t){t.fillStyle=this.style.backgroundColor,t.fillRect(this.parent?this.parent.x:0,this.parent?this.parent.y:0,this.maxWidth,this.maxHeight)}},{key:"disable",value:function(){u()(y()(n.prototype),"disable",this).call(this),this.components.forEach((function(t){return t&&t.disable&&t.disable()}))}},{key:"enable",value:function(){u()(y()(n.prototype),"enable",this).call(this),this.components.forEach((function(t){return t&&t.enable&&t.enable()}))}},{key:"select",value:function(t){if(this.selectedComponent=t,!(this.components.filter((function(t){return t.selectable})).length<=0)&&(this.selectedComponent>=this.components.length?this.selectedComponent=0:this.selectedComponent<0&&(this.selectedComponent=this.components.length-1),this.components[this.selectedComponent]&&!this.components[this.selectedComponent].selectable)){if(this.lastKey==i.Key.UP)return this.select(this.selectedComponent-1);if(this.lastKey==i.Key.BOTTOM)return this.select(this.selectedComponent+1)}}},{key:"compareToComponent",value:function(t){return t.compareToMenu(this)}},{key:"compareToMenu",value:function(t){return 0}},{key:"compareToTooltip",value:function(t){return-1}},{key:"compareToNotification",value:function(t){return 1}},{key:"isInside",value:function(t){return!this.hidden}},{key:"scrollAreaSizeX",get:function(){return this.innerWidth-this.maxWidth}},{key:"scrollAreaSizeY",get:function(){return this.innerHeight-this.maxHeight}},{key:"maxHeight",get:function(){return u()(y()(n.prototype),"maxHeight",this)||this.canvas&&this.canvas.scene&&this.canvas.scene.height}},{key:"maxWidth",get:function(){return this.canvas&&this.canvas.scene&&this.canvas.scene.width}},{key:"minWidth",get:function(){return this.parent?this.parent.width:0}},{key:"defaultStyle",get:function(){return new k({blurBackground:i.Setting.MENU_DEFAULT_BLUR_BACKGROUND,backgroundColor:i.Setting.MENU_DEFAULT_BACKGROUND,verticalAlignement:i.VerticalAlignement.CENTER,scrollXDisabled:!0})}},{key:"hidden",get:function(){return u()(y()(n.prototype),"hidden",this)||this.disabled},set:function(t){P()(y()(n.prototype),"hidden",t,this,!0),this.disabled=t}}]),n}(mt);function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Rt=new WeakMap,Lt=new WeakMap,_t=new WeakMap,It=function(t){d()(n,t);var e=kt(n);function n(t,i,r,s,a,l){var c;o()(this,n),c=e.call(this,t,i,r,s,a),E()(h()(c),"selectable",!0),Rt.set(h()(c),{writable:!0,value:0}),Lt.set(h()(c),{writable:!0,value:0}),_t.set(h()(c),{writable:!0,value:0}),c.text=l||"",w()(h()(c),Rt,0),w()(h()(c),_t,0),w()(h()(c),Lt,0),c.lastInputText=!1,c.offsetX=0,c.lastTime=0,c.totalTime=0,c.clickCurrentPosition=null,c.textCache=null,c.input=document.createElement("input"),c.input.setAttribute("type","text"),c.input.style.position="absolute",c.input.style.left="-9999px",c.input.tabIndex=-1,c.input.value=c.text,c.input.addEventListener("blur",(function(){return c.selected=!1})),c.input.addEventListener("focus",(function(){return c.selected=!0})),c.input.addEventListener("input",(function(){c.totalTime=0,c.lastInputText=!0,c.positionStart=c.input.selectionStart,c.positionEnd=c.input.selectionEnd})),document.body.appendChild(c.input),c.appendToCanvas=!1,c.noticeLogged=!1,c.canvasTmp=document.createElement("canvas");var u=function(t,e,n){if(n){var i=c.getLetterClicked(n);null!=i&&(i>c.positionStartClick?c.setSelectionRange(c.positionStartClick,i,"forward"):i<c.positionStartClick&&c.setSelectionRange(i,c.positionStartClick,"backward"))}};return c.addDownAction((function(t){var e=c.getLetterClicked(t);null!=e&&(c.positionStartClick=e,c.setSelectionRange(e,e,"forward")),c.totalTime=0})),c.addClickAction((function(){return c.click()})),c.addMoveAction(u),c.addScrollAction(u),c}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas,r=e.getContext("2d");r.save(),this.input.selectionEnd!=this.positionEnd&&(this.totalTime=0),this.canvas&&this.canvas.container&&!this.appendToCanvas?(document.body.removeChild(this.input),this.canvas.container.appendChild(this.input),this.appendToCanvas=!0):this.canvas||this.noticeLogged||(console&&console.warn&&console.warn(i.String.WARNING_MESSAGE+" "+i.String.INPUT_FULLSCREEN),this.noticeLogged=!0),this.selected&&!this.disabled?this.click():this.blur(),this.text=this.input.value,this.positionStart=this.input.selectionStart,this.positionEnd=this.input.selectionEnd;var o=performance.now(),s=0;this.lastTime>0&&(s=o-this.lastTime),this.lastTime=o,this.totalTime+=s,this.drawBackground(r),this.drawBorder(r),this.canvasTmp.width=Y.getCanvasWidth(e)*i.Setting.PIXEL_RATIO,this.canvasTmp.height=Y.getCanvasHeight(e)*i.Setting.PIXEL_RATIO,this.canvasTmp.style.width=Y.getCanvasWidth(e),this.canvasTmp.style.height=Y.getCanvasHeight(e);var a=this.canvasTmp.getContext("2d");Y.clear(a),a.scale(i.Setting.PIXEL_RATIO,i.Setting.PIXEL_RATIO),this.updateTextCache(this.x+5),this.autoScroll(),this.drawText(a,this.x+5),Y.drawImageData(r,this.canvasTmp,this.x+this.style.borderSize,this.y+this.style.borderSize,this.width-2*this.style.borderSize,this.height-2*this.style.borderSize,(this.x+this.style.borderSize)*i.Setting.PIXEL_RATIO,(this.y+this.style.borderSize)*i.Setting.PIXEL_RATIO,(this.width-2*this.style.borderSize)*i.Setting.PIXEL_RATIO,(this.height-2*this.style.borderSize)*i.Setting.PIXEL_RATIO),(this.hovered||this.clicked)&&(this.canvas&&this.canvas.canvas?this.canvas.canvas.style.cursor="text":e.style.cursor="default"),this.selected||(this.totalTime=0),r.restore()}}},{key:"drawText",value:function(t,e){for(var n=-1;n<this.text.length;n++){if(n>-1){var i=this.textCache.letters[n].sizes,r=e-this.offsetX,o=this.y+this.style.borderSize;this.isLetterVisible(n)&&(this.positionStart!=this.positionEnd&&n>=this.positionStart&&n<this.positionEnd&&this.drawHighlight(t,e,i),Y.drawText(t,this.text[n],this.style.fontColor,this.style.fontSize,this.style.fontFamily,"default","default",r,o,!1)),e+=i.width+this.style.spaceBetweenComponents}this.positionEnd==n+1&&this.selected&&(this.totalTime<=500?this.drawCursor(t,e):this.totalTime>1e3&&(this.totalTime=0))}return e}},{key:"drawCursor",value:function(t,e){t.strokeStyle=this.style.borderColor,t.lineWidth=1,t.beginPath(),t.moveTo(e-this.offsetX,this.y+3),t.lineTo(e-this.offsetX,this.y+this.style.fontSize),t.stroke()}},{key:"drawHighlight",value:function(t,e,n){t.fillStyle=this.style.selectColor,t.fillRect(e-this.offsetX,this.y+this.style.borderSize,n.width+2,this.height-2*this.style.borderSize-1)}},{key:"updateTextCache",value:function(t){var e=this.canvas?this.canvas.getContext("2d"):null,n=this.canvas&&this.canvas.scene||this.canvas||e&&e.canvas;if(e&&(i.Setting.DISABLE_OPTIMIZATIONS||!this.textCache||this.textCache.fontSize!=this.style.fontSize||this.textCache.fontFamily!=this.style.fontFamily||this.text!=this.textCache.text||n&&n.width!=this.textCache.parentWidth)){this.textCache={fontSize:this.style.fontSize,fontFamily:this.style.fontFamily,text:this.text,parentWidth:n.width,letters:[]};for(var r=0;r<this.text.length;r++){var o=Y.wrapTextLines(e,this.text[r],this.width,this.style.fontSize,this.style.fontFamily,!0);this.textCache.letters[r]={text:this.text[r],currentX:t,sizes:o},t+=o.width+this.style.spaceBetweenComponents}}}},{key:"isClickCurrentPosition",value:function(t,e,n){return t.x+this.offsetX<=e+n.width+this.style.spaceBetweenComponents&&t.x+this.offsetX>=e}},{key:"isClickAfterPosition",value:function(t,e,n){return t.x+this.offsetX>=e+n.width+this.style.spaceBetweenComponents}},{key:"getLetterClicked",value:function(t){if(this.textCache)for(var e=0;e<this.text.length;e++){var n=this.textCache.letters[e];if(this.isClickCurrentPosition(t,Math.round(n.currentX),n.sizes))return e;if(e>=this.text.length-1&&this.isClickAfterPosition(t,Math.round(n.currentX),n.sizes))return e+1}}},{key:"isLetterVisible",value:function(t){if(this.textCache){var e=this.textCache.letters[t];if(e){var n=e.currentX-this.offsetX;if(n>=this.x-e.sizes.width&&n<=this.x+this.width)return!0}}return!1}},{key:"autoScroll",value:function(){if(this.textCache){var t=this.cursorPosition,e=t.currentLetter?t.currentLetter.sizes.width:0,n=t.x+e+this.style.spaceBetweenComponents,i=t.x-e-this.style.spaceBetweenComponents,r=Math.max(0,Math.round(n-this.x-this.width+this.style.borderSize+2*this.style.spaceBetweenComponents)),o=Math.max(0,Math.round(i-this.x-this.style.borderSize-2*this.style.spaceBetweenComponents));if(this.offsetX<0&&(this.offsetX=0),n-this.offsetX>=this.x+this.width-this.style.borderSize)return this.offsetX=r,r;if(i-this.offsetX<=this.x+this.style.borderSize)return this.offsetX=o,o}return!1}},{key:"click",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"setSelectionRange",value:function(t,e,n){this.input.setSelectionRange(t,e,n),this.positionStart=t,this.positionEnd=e}},{key:"cursorPosition",get:function(){if(this.textCache){var t=this.positionEnd-1;if(this.positionEnd!=this.positionStart&&this.positionEnd==this.positionStartClick&&this.positionStart<this.positionStartClick&&(t=this.positionStart-1),t<0)return{currentLetter:this.textCache.letters[0],x:this.x+this.style.borderSize};var e=this.textCache.letters[t];if(e)return{currentLetter:e,x:e.currentX}}}},{key:"positionStart",get:function(){return S()(this,Rt)},set:function(t){this.input.selectionStart=t,w()(this,Rt,t)}},{key:"positionStartClick",get:function(){return S()(this,Lt)},set:function(t){w()(this,Lt,t)}},{key:"positionEnd",get:function(){return S()(this,_t)},set:function(t){this.input.selectionEnd=t,w()(this,_t,t)}},{key:"height",get:function(){var t=this.style&&this.style.borderSize?this.style.borderSize:0;return u()(y()(n.prototype),"height",this)?u()(y()(n.prototype),"height",this):this.style.fontSize+2*t}},{key:"defaultStyle",get:function(){return new k({fontSize:Math.floor(i.Setting.FONT_SIZE/1.25),fontFamily:i.Setting.FONT_FAMILY,fontColor:i.Setting.INPUT_DEFAULT_FONT_COLOR,backgroundColor:i.Setting.INPUT_DEFAULT_BACKGROUND_COLOR,borderColor:i.Setting.INPUT_DEFAULT_BORDER_COLOR,borderColorSelected:i.Setting.INPUT_DEFAULT_BORDER_COLOR_SELECTED,selectColor:i.Setting.INPUT_DEFAULT_SELECT_COLOR,spaceBetweenComponents:1})}}]),n}(B);function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Ot=new WeakMap,Dt=function(t){d()(n,t);var e=bt(n);function n(t,r,s,a){var l;return o()(this,n),l=e.call(this,r,s,null,null,a),E()(h()(l),"selectable",!1),Ot.set(h()(l),{writable:!0,value:""}),l.text=t,l.sizesCache=null,i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS||(l.updateSizes(),l.addChangeAction((function(t){l.updateSizes(),t!=l.parent&&l.parent&&l.parent.reactor&&l.parent.reactor.dispatchEvent("onChange",h()(l))}))),l}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");e.save(),Y.drawText(e,this.text,this.style.fontColor,this.style.fontSize,this.style.fontFamily,this.style.alignement,this.style.verticalAlignement,this.x,this.y,this.style.wrap,this.style.bold,this.style.underline,null,this.parent),e.restore()}}},{key:"updateSizes",value:function(){var t=this.canvas?this.canvas.getContext("2d"):null,e=this.canvas&&this.canvas.scene||this.canvas||t&&t.canvas||this.parent;if(t&&(i.Setting.DISABLE_OPTIMIZATIONS||!this.sizesCache||this.sizesCache.fontSize!=this.style.fontSize||this.sizesCache.fontFamily!=this.style.fontFamily||this.sizesCache.wrap!=this.style.wrap||this.text!=this.sizesCache.text||e&&e.width!=this.sizesCache.parentWidth||null==this.sizesCache.value)){var n=Y.wrapTextLines(t,this.text,null,this.style.fontSize,this.style.fontFamily,!this.style.wrap);e&&(this.sizesCache={fontSize:this.style.fontSize,fontFamily:this.style.fontFamily,wrap:this.style.wrap,text:this.text,parentWidth:e.width,value:n},e.reactor.dispatchEvent("onChange",this))}return this.sizesCache&&this.sizesCache.value}},{key:"text",set:function(t){t!=S()(this,Ot)&&(w()(this,Ot,t),this.reactor.dispatchEvent("onChange",this))},get:function(){return S()(this,Ot)}},{key:"sizes",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateSizes(),this.sizesCache?this.sizesCache.value:null}},{key:"height",get:function(){var t=this.sizes;return t&&t.height}},{key:"width",get:function(){var t=this.sizes;return t&&t.width}},{key:"defaultStyle",get:function(){return new k({fontColor:i.Setting.LABEL_DEFAULT_FONT_COLOR,wrap:!0,bold:!1,underline:!1})}}]),n}(F);function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Nt=function(t){d()(n,t);var e=xt(n);function n(t,i,r,s){var a;return o()(this,n),a=e.call(this,t,i,r,s),E()(h()(a),"selectable",!0),a.initialColor=a.style.fontColor,a.initialUnderline=a.style.underline,a}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas;this.clicked?(this.style.set("underline",!1),this.style.set("fontColor",this.style.fontColorDown),e.style.cursor="pointer"):this.hovered||this.selected?(this.style.set("underline",!1),this.style.set("fontColor",this.style.fontColorHover),this.hovered&&(e.style.cursor="pointer")):(this.style.set("underline",this.initialUnderline),this.style.set("fontColor",this.initialColor)),this.init=!0}}},{key:"defaultStyle",get:function(){return new k({fontColor:i.Setting.LINK_DEFAULT_COLOR,fontColorHover:i.Setting.LINK_DEFAULT_HOVER_COLOR,fontColorDown:i.Setting.LINK_DEFAULT_CLICK_COLOR,wrap:!0,bold:!1,underline:!0})}}]),n}(Dt);function Ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Ut=function(t){d()(n,t);var e=Ft(n);function n(t){var i;o()(this,n);for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return i=e.call.apply(e,[this,null,null,null,null,t].concat(s)),E()(h()(i),"selectable",!1),i.disabled=!0,i}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){var e=t.canvas.getContext("2d");e.save(),this.x+this.width+this.style.padding>this.parent.width&&(this.x-=this.width+this.style.padding),this.y+this.height+this.style.padding>this.parent.height&&(this.y-=this.height+this.style.padding),u()(y()(n.prototype),"draw",this).call(this,e),e.restore()}}},{key:"compareToComponent",value:function(t){return t.compareToTooltip(this)}},{key:"compareToMenu",value:function(t){return 1}},{key:"compareToTooltip",value:function(t){return 0}},{key:"compareToNotification",value:function(t){return 1}},{key:"width",get:function(){return u()(y()(n.prototype),"width",this)+this.style.padding},set:function(t){P()(y()(n.prototype),"width",t,this,!0)}},{key:"height",get:function(){return u()(y()(n.prototype),"height",this)+this.style.padding},set:function(t){P()(y()(n.prototype),"height",t,this,!0)}},{key:"defaultStyle",get:function(){return new k({backgroundColor:i.Setting.TOOLTIP_DEFAULT_BACKGROUND})}},{key:"hidden",get:function(){return u()(y()(n.prototype),"hidden",this)||this.disabled},set:function(t){P()(y()(n.prototype),"hidden",t,this,!0),this.disabled=t}}]),n}(mt);function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Mt=function(t){d()(n,t);var e=Pt(n);function n(){var t,i;return o()(this,n),i=e.call(this),E()(h()(i),"selectable",!1),E()(h()(i),"enableEvents",!1),(t=i).addAll.apply(t,arguments),i}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas,i=e.getContext("2d");i.save(),e.style.cursor="default";var r=i;(this.maxWidth||this.maxHeight)&&(r=this.canvasTmp.getContext("2d")),this.drawComponents(r),(this.maxWidth||this.maxHeight)&&Y.drawImageData(i,this.canvasTmp,this.x,this.y,this.width,this.height,this.x,this.y,this.width,this.height),u()(y()(n.prototype),"drawScrollbars",this).call(this,i),i.restore()}}},{key:"drawComponents",value:function(t){this.components.sort(n.compareComponents).forEach((function(e){return e.draw(t)}))}},{key:"defaultStyle",get:function(){return new k({padding:i.Setting.DEFAULT_PADDING})}}]),n}($);function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Wt=function(t){d()(n,t);var e=Bt(n);function n(t,i,r,s){var a;return o()(this,n),a=e.call(this,null,i,r,s),E()(h()(a),"selectable",!1),a.displayFrames=t||!1,a.frames=0,a.lastFrame=0,a.currentFPS=0,a.intervalCountFPS=setInterval((function(){return a.countFPS()}),1e3),a}return a()(n,[{key:"draw",value:function(t){this.hidden||(this.text="FPS: "+this.currentFPS+(this.displayFrames?" / Frames: "+this.frames:""),u()(y()(n.prototype),"draw",this).call(this,t),this.frames++)}},{key:"countFPS",value:function(){this.lastFrame>0&&(this.currentFPS=this.frames-this.lastFrame),this.lastFrame=this.frames}}]),n}(Dt);function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Ht=new WeakMap,Xt=function(t){d()(n,t);var e=zt(n);function n(t,i,r,s,a,l,c){var u;return o()(this,n),u=e.call(this,t,i,r,s,a),Ht.set(h()(u),{writable:!0,value:0}),E()(h()(u),"selectable",!1),u.percent=null==l?0:l,w()(h()(u),Ht,u.percent),u.easingFunction=c,u.lastTime=0,u.totalTime=0,u}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");e.save();var i=performance.now(),r=0;S()(this,Ht)==this.percent||this.style.disableAnimation?(this.totalTime=0,this.lastTime=0):(this.lastTime>0&&(r=i-this.lastTime),this.totalTime+=r,this.totalTime>=this.style.animationDuration?(w()(this,Ht,this.percent),this.totalTime=0,this.lastTime=0):this.lastTime=i),this.drawBackground(e),this.drawForeground(e,this.widthForeground),e.restore()}}},{key:"drawForeground",value:function(t,e){t.save(),t.fillStyle=this.style.foregroundColor,t.fillRect(this.x,this.y,e,this.height),t.restore()}},{key:"animationPercent",get:function(){var t=S()(this,Ht)==this.percent||this.style.disableAnimation?1:this.totalTime/this.style.animationDuration;return this.easingFunction&&(t=this.easingFunction(t)),t}},{key:"widthForeground",get:function(){return Math.max(0,Math.min(this.width,this.width*(S()(this,Ht)+(this.percent-S()(this,Ht))*this.animationPercent)))}},{key:"defaultStyle",get:function(){return new k({backgroundColor:i.Setting.PROGRESS_DEFAULT_BACKGROUND,foregroundColor:i.Setting.PROGRESS_DEFAULT_FOREGROUND,animationDuration:i.Setting.PROGRESS_DEFAULT_ANIMATION_DURATION})}}]),n}(B);function Gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Kt=function(t){d()(n,t);var e=Gt(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"registerEvent",value:function(t){this.events[t]||(this.events[t]=[])}},{key:"dispatchEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(this.events[t]){var r=this.events[t];r.forEach((function(t){return t&&t.callback&&t.callback.apply(t,n)}))}}},{key:"dispatchEventComponent",value:function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(this.events[t]){var o=this.events[t];o.forEach((function(t){return t&&t.callback&&t.component==e&&t.callback.apply(t,i)}))}}},{key:"addEventListener",value:function(t,e,n){this.events[t]&&this.events[t].push({component:e,callback:n})}},{key:"removeEventListener",value:function(t,e){this.events[t]&&this.events[t].filter((function(t){return t&&t.callback!=e}))}},{key:"removeEventListenerComponent",value:function(t,e){this.events[t]&&this.events[t].filter((function(t){return t&&t.component!=e}))}},{key:"removeAllEventListener",value:function(){this.events=[]}}]),n}(L);function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Vt=function(t){d()(n,t);var e=Yt(n);function n(t){var r;o()(this,n),(r=e.call(this)).canvas=t,r.labelDetailsSceneError=new Dt("",null,null,new k({fontColor:"white",alignement:"center",fontSize:i.Setting.FONT_SIZE/1.75})),r.labelDetailsSceneError.hidden=!0;var s=new ot(null,null,null,null,new k({backgroundColor:i.Setting.BUTTON_DEFAULT_ALTERNATIVE_BACKGROUND}),new Dt(i.String.RETRY,null,null,new k({fontColor:"white",alignement:"center"}))),a=new ot(null,null,null,null,new k({backgroundColor:i.Setting.BUTTON_DEFAULT_ALTERNATIVE_BACKGROUND}),new Dt(i.String.DETAILS,null,null,new k({fontColor:"white",alignement:"center"}))),l=new it(null,null,null,0,new k({alignement:"center"}),r.labelDetailsSceneError),h=new Tt(new k({spaceBetweenComponents:15,backgroundColor:i.Setting.ERROR_MENU_BACKGROUND_COLOR}),new Dt(i.String.ERROR_MESSAGE_CANVAS_LABEL,null,null,new k({fontColor:"white",alignement:"center"})),l,new it(null,null,null,null,new k({alignement:"center"}),s,a));return h.enable(),s.addClickAction((function(){r.canvas.hasError=!1,r.canvas.scene=r.canvas.scenePrevious,r.labelDetailsSceneError.hidden=!0,l.maxHeight=0})),a.addClickAction((function(){r.labelDetailsSceneError.hidden=!r.labelDetailsSceneError.hidden,l.maxHeight=r.labelDetailsSceneError.hidden?0:100})),r.add(h),r}return a()(n,[{key:"errorText",set:function(t){this.labelDetailsSceneError.text=t},get:function(){return this.labelDetailsSceneError.text}}]),n}(Mt),Zt=new WeakMap,jt=new WeakMap,qt=new WeakMap,Jt=function(){function t(e,n,r,s,a,l){o()(this,t),Zt.set(this,{writable:!0,value:void 0}),jt.set(this,{writable:!0,value:void 0}),qt.set(this,{writable:!0,value:void 0}),this.canvas=n||document.createElement("canvas"),this.container=document.createElement("div"),this.width=r||i.Setting.CANVAS_WIDTH,this.height=s||i.Setting.CANVAS_HEIGHT,this.scene=e,this.container.appendChild(this.canvas),this.started=!1,this.init=!1,this.maxFPS=l||-1,w()(this,Zt,0),this.hasError=!1,this.fullscreen=!1,this.fullpage=!1,this.sceneError=new Vt(this),this.scenePrevious=this.scene,this.reactor=new Kt,this.reactor.registerEvent("mousemove"),this.reactor.registerEvent("click"),this.reactor.registerEvent("mousedown"),this.reactor.registerEvent("mouseup"),this.reactor.registerEvent("wheel"),this.reactor.registerEvent("touchstart"),this.reactor.registerEvent("touchend"),this.reactor.registerEvent("touchmove"),a&&this.autoResize(),this.createEvents(),i.Setting.DISABLE_OPTIMIZATIONS&&console&&console.info(i.String.NOTICE_MESSAGE+" "+i.String.OPTIMIZATION_DISABLED),i.Setting.DISABLE_CONTAINERS_CUTTING&&console&&console.info(i.String.NOTICE_MESSAGE+" "+i.String.CONTAINER_CUTTING_DISABLED)}return a()(t,[{key:"draw",value:function(){var t=this.canvas.getContext("2d");this.drawClear(t),this.drawScene(t)}},{key:"drawScene",value:function(t){if(this.scene){this.scene.parent=this,this.scene.canvas=this;try{t.scale(i.Setting.PIXEL_RATIO,i.Setting.PIXEL_RATIO),this.scene.draw(t)}catch(t){this.hasError=!0,this.scene=this.sceneError,this.sceneError.errorText=""+t.stack,console.error(i.String.ERROR_MESSAGE+" "+i.String.ERROR_MESSAGE_CANVAS+"\n",t)}}}},{key:"drawClear",value:function(t){Y.clear(t)}},{key:"startDraw",value:function(t){var e=this;this.started=!0,requestAnimationFrame((function(n){if(e.started){var r=n-S()(e,Zt);e.fullscreen=document.fullscreenElement==e.canvas||document.fullscreenElement==e.container,i.Setting.ENABLE_PIXEL_RATIO_RESIZING?i.Setting.PIXEL_RATIO=window.devicePixelRatio*i.Setting.RESOLUTION_SCALE:i.Setting.PIXEL_RATIO=1*i.Setting.RESOLUTION_SCALE,Y.autoDPI(e.canvas),(e.maxFPS<1||r>1e3/e.maxFPS)&&(w()(e,Zt,n),e.draw()),e.startDraw(t),t&&t()}}))}},{key:"stopDraw",value:function(){this.started=!1}},{key:"appendTo",value:function(t){t.appendChild(this.container)}},{key:"remove",value:function(t){t.removeChild(this.container),this.container.removeChild(this.canvas)}},{key:"toggleFullscreen",value:function(){Y.toggleFullscreen(this.canvas,this.container)}},{key:"toggleFullpage",value:function(){Y.toggleFullpage(this.canvas,this.container),this.fullpage=!this.fullpage}},{key:"autoResize",value:function(){Y.enableAutoResizeCanvas(this.canvas,this.container,this.width,this.height)}},{key:"getContext",value:function(t){return this.canvas?this.canvas.getContext(t||"2d"):null}},{key:"createEvents",value:function(){var t=this;!this.init&&this.canvas&&(["mousemove","click","mousedown","mouseup","wheel"].forEach((function(e){t.canvas.addEventListener(e,(function(n){var i=t.getMousePos(n);t.doEvents(n,e,i),n.preventDefault()}),!1)})),["touchstart","touchmove","touchend"].forEach((function(e){t.canvas.addEventListener(e,(function(n){var i=n.changedTouches[0],r=t.getMousePos(i);t.doEvents(n,e,r)}))})),this.init=!0)}},{key:"doEvents",value:function(t,e,n){var i=this,r=this.getComponentsAtPosition(n);this.reactor.dispatchEvent(e,t,!1),pt()(r).reverse().forEach((function(n){return i.reactor.dispatchEventComponent(e,n,t,!0)}))}},{key:"addEventListener",value:function(t,e,n){this.reactor.addEventListener(t,e,n)}},{key:"getMousePos",value:function(t){return Y.getMousePos(this.canvas,t)}},{key:"getAllComponents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scene;return this.scene.getAllComponents(t)}},{key:"getComponentsAtPosition",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scene,i=this.scene.getComponentsTree(n),r=[n];return i.childs&&i.childs.sort(Mt.sortComponentsTree).reverse().some((function(n){if(n.component.isInside(t)&&!n.component.hidden&&!n.component.disabled)return r.push.apply(r,pt()(e.getComponentsAtPosition(t,n.component))),!0})),r}},{key:"x",get:function(){return 0}},{key:"y",get:function(){return 0}},{key:"width",get:function(){return this.canvas?Y.getCanvasWidth(this.canvas):S()(this,jt)},set:function(t){t!=S()(this,jt)&&(w()(this,jt,t),this.canvas.width=t,this.scene&&this.scene.reactor.dispatchEvent("onChange",this))}},{key:"height",get:function(){return this.canvas?Y.getCanvasHeight(this.canvas):S()(this,qt)},set:function(t){t!=S()(this,qt)&&(w()(this,qt,t),this.canvas.height=t,this.scene&&this.scene.reactor.dispatchEvent("onChange",this))}},{key:"style",get:function(){return this.canvas?this.canvas.style:null}}]),t}(),Qt={easeInCubic:function(t){return t*t*t},easeOutBounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2},easeInOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2},easeInOutCirc:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2},easeInOutQuad:function(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2},easeInOutBack:function(t){var e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2}};function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var te=function(t){d()(n,t);var e=$t(n);function n(t,i,r,s,a){var l;return o()(this,n),l=e.call(this,t,i,null,null,a),E()(h()(l),"selectable",!1),l.toX=r,l.toY=s,l}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");Y.drawArrow(e,this.x,this.y,this.toX,this.toY,this.style.lineWidth,this.style.headSize,this.style.color,this.style.lineCap),this.init=!0}}},{key:"width",get:function(){return Math.abs(this.x-this.toX)}},{key:"height",get:function(){return Math.abs(this.y-this.toY)}},{key:"defaultStyle",get:function(){return new k({lineWidth:i.Setting.ARROW_DEFAULT_LINE_SIZE,headSize:i.Setting.ARROW_DEFAULT_HEAD_SIZE,color:i.Setting.ARROW_DEFAULT_COLOR,lineCap:i.Setting.ARROW_DEFAULT_LINE_CAP})}}]),n}(F);function ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var ne=function(t){d()(n,t);var e=ee(n);function n(t,i,r,s,a){var l;return o()(this,n),l=e.call(this,t,i,r,s,a),E()(h()(l),"selectable",!1),l}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");Y.drawTriangle(e,this.x,this.y,this.width,this.height,this.style.lineWidth,this.style.color,this.style.lineCap,this.style.fill,this.style.fillColor),this.init=!0}}},{key:"width",get:function(){return u()(y()(n.prototype),"width",this)+this.style.lineWidth},set:function(t){P()(y()(n.prototype),"width",t,this,!0)}},{key:"height",get:function(){return u()(y()(n.prototype),"height",this)+this.style.lineWidth},set:function(t){P()(y()(n.prototype),"height",t,this,!0)}},{key:"defaultStyle",get:function(){return new k({lineWidth:i.Setting.TRIANGLE_DEFAULT_LINE_SIZE,color:i.Setting.TRIANGLE_DEFAULT_COLOR,fill:i.Setting.TRIANGLE_DEFAULT_FILL,lineCap:i.Setting.TRIANGLE_DEFAULT_LINE_CAP,fillColor:i.Setting.TRIANGLE_DEFAULT_FILL_COLOR})}}]),n}(F);function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var re=new WeakMap,oe=function(t){d()(n,t);var e=ie(n);function n(t,r,s,a,l,c,u){var f;return o()(this,n),f=e.call(this,t,r,s,a,l),re.set(h()(f),{writable:!0,value:0}),f.optionContainer=c,u&&(f.selectedOption=u),f.label=new Dt("",t,r,l),f.label.style.setAll({alignement:i.Alignement.LEFT,verticalAlignement:i.VerticalAlignement.CENTER}),f.triangle=new ne(null,null,8,8,l),f.triangle.style.setAll({alignement:i.Alignement.RIGHT,verticalAlignement:i.VerticalAlignement.CENTER}),f.addAll(f.label,f.triangle),f.addClickAction((function(){f.optionContainer&&(f.optionContainer.hidden=!1)})),i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS||(f.updateWidth(),f.addChangeAction((function(){return f.updateWidth()}))),f}return a()(n,[{key:"draw",value:function(t){this.hidden||(this.selectedOption&&this.selectedOption.label&&(this.label.text=this.selectedOption.label.text),u()(y()(n.prototype),"draw",this).call(this,t),this.optionContainer&&(this.optionContainer.select=this))}},{key:"updateWidth",value:function(){var t=this.label.width;this.optionContainer&&this.optionContainer.components.forEach((function(e){var n=e.label;n&&(n.updateSizes&&n.updateSizes(),n.width>t&&(t=n.width))})),w()(this,re,t+this.style.padding+this.triangle.width+15)}},{key:"selectedOption",get:function(){return this.optionContainer?this.optionContainer.components[this.optionContainer.selectedOption]:null},set:function(t){t!=this.optionContainer.selectedOption&&(this.optionContainer.selectedOption=t,this.reactor.dispatchEvent("onChange",this))}},{key:"text",get:function(){return this.selectedOption&&this.selectedOption.label?this.selectedOption.label.text:null}},{key:"width",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateWidth(),S()(this,re)}},{key:"allComponents",get:function(){var t=[];return t.push.apply(t,pt()(u()(y()(n.prototype),"allComponents",this))),t}},{key:"defaultStyle",get:function(){return new k({backgroundColor:i.Setting.SELECT_DEFAULT_BACKGROUND,backgroundColorHover:i.Setting.SELECT_DEFAULT_HOVER_BACKGROUND,backgroundColorDown:i.Setting.SELECT_DEFAULT_CLICK_BACKGROUND,padding:i.Setting.DEFAULT_PADDING})}},{key:"selected",get:function(){return u()(y()(n.prototype),"selected",this)||this.optionContainer.selected},set:function(t){P()(y()(n.prototype),"selected",t,this,!0)}}]),n}(ot);function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var ae=function(t){d()(n,t);var e=se(n);function n(t,i){var r;o()(this,n);var s=new Dt("Option");return(r=e.call(this,null,null,null,null,i,t||s)).label=t||s,r}return a()(n,[{key:"add",value:function(t){t instanceof Dt&&(this.clear(),u()(y()(n.prototype),"add",this).call(this,t))}},{key:"width",get:function(){return this.parent&&this.parent.width}},{key:"defaultStyle",get:function(){return new k({backgroundColor:i.Setting.SELECT_DEFAULT_BACKGROUND,backgroundColorHover:i.Setting.SELECT_DEFAULT_HOVER_BACKGROUND,backgroundColorDown:i.Setting.SELECT_DEFAULT_CLICK_BACKGROUND,padding:i.Setting.DEFAULT_PADDING})}}]),n}(ot);function le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var he=new WeakMap,ce=function(t){d()(n,t);var e=le(n);function n(t,i){var r;o()(this,n);for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];return r=e.call.apply(e,[this,null,null,null,t,i].concat(a)),he.set(h()(r),{writable:!0,value:void 0}),E()(h()(r),"selectable",!1),w()(h()(r),he,0),r.select=null,r}return a()(n,[{key:"draw",value:function(t){u()(y()(n.prototype),"draw",this).call(this,t)}},{key:"add",value:function(t){var e=this;u()(y()(n.prototype),"add",this).call(this,t),t.addClickAction((function(){w()(e,he,e.getComponentId(t)),e.selected=!1,e.hidden=!0,e.select&&(e.select.selected=!1)}))}},{key:"x",get:function(){return this.select&&this.select.x}},{key:"y",get:function(){var t=this.select&&this.select.height,e=this.height,n=this.select&&this.select.y;return this.canvas&&this.canvas.scene&&n+t+e>=this.canvas.scene.height?n-e:n+t}},{key:"width",get:function(){return this.select&&this.select.width}},{key:"selectedOption",get:function(){return Math.max(0,Math.min(this.components.length-1,S()(this,he)))},set:function(t){t!=S()(this,he)&&(w()(this,he,t),this.reactor.dispatchEvent("onChange",this))}},{key:"defaultStyle",get:function(){return new k({padding:0,spaceBetweenComponents:0,backgroundColor:i.Setting.SELECT_DEFAULT_BACKGROUND,backgroundColorHover:null,backgroundColorDown:null,scrollXDisabled:!1,scrollYDisabled:!1})}},{key:"hidden",get:function(){return u()(y()(n.prototype),"hidden",this)||this.select&&!this.select.selected||!this.select},set:function(t){return P()(y()(n.prototype),"hidden",t,this,!0)}}]),n}(mt);function ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var fe=function(t){d()(n,t);var e=ue(n);function n(t,i,r,s){var a;return o()(this,n),a=e.call(this,t,i,r,r,s),E()(h()(a),"selectable",!1),a}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(y()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");Y.drawCircle(e,this.x,this.y,this.width,this.style.lineWidth,this.style.color,this.style.lineCap,this.style.fill,this.style.fillColor),this.init=!0}}},{key:"width",get:function(){return u()(y()(n.prototype),"width",this)+this.style.lineWidth},set:function(t){P()(y()(n.prototype),"width",t,this,!0)}},{key:"height",get:function(){return u()(y()(n.prototype),"height",this)+this.style.lineWidth},set:function(t){P()(y()(n.prototype),"height",t,this,!0)}},{key:"defaultStyle",get:function(){return new k({lineWidth:i.Setting.CIRCLE_DEFAULT_LINE_SIZE,color:i.Setting.CIRCLE_DEFAULT_COLOR,fill:i.Setting.CIRCLE_DEFAULT_FILL,lineCap:i.Setting.CIRCLE_DEFAULT_LINE_CAP,fillColor:i.Setting.CIRCLE_DEFAULT_FILL_COLOR})}}]),n}(F)}])}));